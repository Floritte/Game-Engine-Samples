; SPIR-V
; Version: 1.4
; Generator: Google Shaderc over Glslang; 10
; Bound: 856
; Schema: 0
               OpCapability Shader
               OpCapability ImageQuery
          %1 = OpExtInstImport "GLSL.std.450"
               OpMemoryModel Logical GLSL450
               OpEntryPoint Fragment %main "main" %_ %__0 %colorSampler %inUV_0 %bloomSampler %bloomState %outFragColor %DirtSampler
               OpExecutionMode %main OriginUpperLeft
               OpSource GLSL 460
               OpSourceExtension "GL_GOOGLE_cpp_style_line_directive"
               OpSourceExtension "GL_GOOGLE_include_directive"
               OpName %main "main"
               OpName %UpsampleTent9_s21_f1_vf2_vf2_f1_ "UpsampleTent9(s21;f1;vf2;vf2;f1;"
               OpName %tex "tex"
               OpName %lod "lod"
               OpName %uv "uv"
               OpName %texelSize "texelSize"
               OpName %radius "radius"
               OpName %rgb2luma_vf3_ "rgb2luma(vf3;"
               OpName %rgb "rgb"
               OpName %FXAA_s21_vf2_ "FXAA(s21;vf2;"
               OpName %screenTexture "screenTexture"
               OpName %inUV "inUV"
               OpName %offset "offset"
               OpName %result "result"
               OpName %EDGE_THRESHOLD_MIN "EDGE_THRESHOLD_MIN"
               OpName %FXAAState "FXAAState"
               OpMemberName %FXAAState 0 "edgeThresholdMin"
               OpMemberName %FXAAState 1 "edgeThresholdMax"
               OpMemberName %FXAAState 2 "iterations"
               OpMemberName %FXAAState 3 "subPixelQuality"
               OpMemberName %FXAAState 4 "inverseScreenSize"
               OpMemberName %FXAAState 5 "is_active"
               OpName %_ ""
               OpName %EDGE_THRESHOLD_MAX "EDGE_THRESHOLD_MAX"
               OpName %ITERATIONS "ITERATIONS"
               OpName %SUBPIXEL_QUALITY "SUBPIXEL_QUALITY"
               OpName %colorCenter "colorCenter"
               OpName %lumaCenter "lumaCenter"
               OpName %param "param"
               OpName %lumaDown "lumaDown"
               OpName %param_0 "param"
               OpName %lumaUp "lumaUp"
               OpName %param_1 "param"
               OpName %lumaLeft "lumaLeft"
               OpName %param_2 "param"
               OpName %lumaRight "lumaRight"
               OpName %param_3 "param"
               OpName %lumaMin "lumaMin"
               OpName %lumaMax "lumaMax"
               OpName %lumaRange "lumaRange"
               OpName %lumaDownLeft "lumaDownLeft"
               OpName %param_4 "param"
               OpName %lumaUpRight "lumaUpRight"
               OpName %param_5 "param"
               OpName %lumaUpLeft "lumaUpLeft"
               OpName %param_6 "param"
               OpName %lumaDownRight "lumaDownRight"
               OpName %param_7 "param"
               OpName %lumaDownUp "lumaDownUp"
               OpName %lumaLeftRight "lumaLeftRight"
               OpName %lumaLeftCorners "lumaLeftCorners"
               OpName %lumaDownCorners "lumaDownCorners"
               OpName %lumaRightCorners "lumaRightCorners"
               OpName %lumaUpCorners "lumaUpCorners"
               OpName %edgeHorizontal "edgeHorizontal"
               OpName %edgeVertical "edgeVertical"
               OpName %isHorizontal "isHorizontal"
               OpName %stepLength "stepLength"
               OpName %luma1 "luma1"
               OpName %luma2 "luma2"
               OpName %gradient1 "gradient1"
               OpName %gradient2 "gradient2"
               OpName %is1Steepest "is1Steepest"
               OpName %gradientScaled "gradientScaled"
               OpName %lumaLocalAverage "lumaLocalAverage"
               OpName %currentUv "currentUv"
               OpName %offset_0 "offset"
               OpName %uv1 "uv1"
               OpName %uv2 "uv2"
               OpName %lumaEnd1 "lumaEnd1"
               OpName %param_8 "param"
               OpName %lumaEnd2 "lumaEnd2"
               OpName %param_9 "param"
               OpName %reached1 "reached1"
               OpName %reached2 "reached2"
               OpName %reachedBoth "reachedBoth"
               OpName %i "i"
               OpName %param_10 "param"
               OpName %param_11 "param"
               OpName %distance1 "distance1"
               OpName %distance2 "distance2"
               OpName %isDirection1 "isDirection1"
               OpName %distanceFinal "distanceFinal"
               OpName %edgeThickness "edgeThickness"
               OpName %isLumaCenterSmaller "isLumaCenterSmaller"
               OpName %correctVariation1 "correctVariation1"
               OpName %correctVariation2 "correctVariation2"
               OpName %correctVariation "correctVariation"
               OpName %pixelOffset "pixelOffset"
               OpName %finalOffset "finalOffset"
               OpName %lumaAverage "lumaAverage"
               OpName %subPixelOffset1 "subPixelOffset1"
               OpName %subPixelOffset2 "subPixelOffset2"
               OpName %subPixelOffsetFinal "subPixelOffsetFinal"
               OpName %finalUv "finalUv"
               OpName %finalColor "finalColor"
               OpName %color "color"
               OpName %ConstantData "ConstantData"
               OpMemberName %ConstantData 0 "ppState"
               OpMemberName %ConstantData 1 "enabledFXAA"
               OpMemberName %ConstantData 2 "enabledMask"
               OpName %__0 ""
               OpName %colorSampler "colorSampler"
               OpName %inUV_0 "inUV"
               OpName %param_12 "param"
               OpName %sampleScale "sampleScale"
               OpName %texSize "texSize"
               OpName %bloomSampler "bloomSampler"
               OpName %fTexSize "fTexSize"
               OpName %bloom "bloom"
               OpName %param_13 "param"
               OpName %param_14 "param"
               OpName %param_15 "param"
               OpName %param_16 "param"
               OpName %BloomProperties "BloomProperties"
               OpMemberName %BloomProperties 0 "Threshold"
               OpMemberName %BloomProperties 1 "Knee"
               OpMemberName %BloomProperties 2 "UpsampleScale"
               OpMemberName %BloomProperties 3 "Intensity"
               OpMemberName %BloomProperties 4 "DirtIntensity"
               OpMemberName %BloomProperties 5 "Exposure"
               OpMemberName %BloomProperties 6 "SkyboxMod"
               OpMemberName %BloomProperties 7 "Enabled"
               OpName %bloomState "bloomState"
               OpName %outFragColor "outFragColor"
               OpName %DirtSampler "DirtSampler"
               OpMemberDecorate %FXAAState 0 Offset 0
               OpMemberDecorate %FXAAState 1 Offset 4
               OpMemberDecorate %FXAAState 2 Offset 8
               OpMemberDecorate %FXAAState 3 Offset 12
               OpMemberDecorate %FXAAState 4 Offset 16
               OpMemberDecorate %FXAAState 5 Offset 24
               OpDecorate %FXAAState Block
               OpDecorate %_ DescriptorSet 0
               OpDecorate %_ Binding 35
               OpMemberDecorate %ConstantData 0 Offset 0
               OpMemberDecorate %ConstantData 1 Offset 4
               OpMemberDecorate %ConstantData 2 Offset 8
               OpDecorate %ConstantData Block
               OpDecorate %colorSampler DescriptorSet 0
               OpDecorate %colorSampler Binding 0
               OpDecorate %inUV_0 Location 0
               OpDecorate %bloomSampler DescriptorSet 0
               OpDecorate %bloomSampler Binding 1
               OpMemberDecorate %BloomProperties 0 Offset 0
               OpMemberDecorate %BloomProperties 1 Offset 4
               OpMemberDecorate %BloomProperties 2 Offset 8
               OpMemberDecorate %BloomProperties 3 Offset 12
               OpMemberDecorate %BloomProperties 4 Offset 16
               OpMemberDecorate %BloomProperties 5 Offset 20
               OpMemberDecorate %BloomProperties 6 Offset 24
               OpMemberDecorate %BloomProperties 7 Offset 28
               OpDecorate %BloomProperties Block
               OpDecorate %bloomState DescriptorSet 0
               OpDecorate %bloomState Binding 34
               OpDecorate %outFragColor Location 0
               OpDecorate %DirtSampler DescriptorSet 0
               OpDecorate %DirtSampler Binding 2
       %void = OpTypeVoid
          %3 = OpTypeFunction %void
      %float = OpTypeFloat 32
          %7 = OpTypeImage %float 2D 0 0 0 1 Unknown
          %8 = OpTypeSampledImage %7
%_ptr_UniformConstant_8 = OpTypePointer UniformConstant %8
%_ptr_Function_float = OpTypePointer Function %float
    %v2float = OpTypeVector %float 2
%_ptr_Function_v2float = OpTypePointer Function %v2float
    %v3float = OpTypeVector %float 3
         %14 = OpTypeFunction %v3float %_ptr_UniformConstant_8 %_ptr_Function_float %_ptr_Function_v2float %_ptr_Function_v2float %_ptr_Function_float
%_ptr_Function_v3float = OpTypePointer Function %v3float
         %23 = OpTypeFunction %float %_ptr_Function_v3float
    %v4float = OpTypeVector %float 4
         %28 = OpTypeFunction %v4float %_ptr_UniformConstant_8 %_ptr_Function_v2float
%_ptr_Function_v4float = OpTypePointer Function %v4float
    %float_1 = OpConstant %float 1
   %float_n1 = OpConstant %float -1
    %float_0 = OpConstant %float 0
         %40 = OpConstantComposite %v4float %float_1 %float_1 %float_n1 %float_0
    %float_4 = OpConstant %float 4
    %float_2 = OpConstant %float 2
%float_0_0625 = OpConstant %float 0.0625
%float_0_298999995 = OpConstant %float 0.298999995
%float_0_587000012 = OpConstant %float 0.587000012
%float_0_114 = OpConstant %float 0.114
        %146 = OpConstantComposite %v3float %float_0_298999995 %float_0_587000012 %float_0_114
       %uint = OpTypeInt 32 0
  %FXAAState = OpTypeStruct %float %float %float %float %v2float %uint
%_ptr_Uniform_FXAAState = OpTypePointer Uniform %FXAAState
          %_ = OpVariable %_ptr_Uniform_FXAAState Uniform
        %int = OpTypeInt 32 1
      %int_0 = OpConstant %int 0
%_ptr_Uniform_float = OpTypePointer Uniform %float
      %int_1 = OpConstant %int 1
%_ptr_Function_int = OpTypePointer Function %int
      %int_2 = OpConstant %int 2
      %int_3 = OpConstant %int 3
      %v2int = OpTypeVector %int 2
     %int_n1 = OpConstant %int -1
        %189 = OpConstantComposite %v2int %int_0 %int_n1
        %197 = OpConstantComposite %v2int %int_0 %int_1
        %205 = OpConstantComposite %v2int %int_n1 %int_0
        %213 = OpConstantComposite %v2int %int_1 %int_0
       %bool = OpTypeBool
        %261 = OpConstantComposite %v2int %int_n1 %int_n1
        %269 = OpConstantComposite %v2int %int_1 %int_1
        %277 = OpConstantComposite %v2int %int_n1 %int_1
        %285 = OpConstantComposite %v2int %int_1 %int_n1
   %float_n2 = OpConstant %float -2
%_ptr_Function_bool = OpTypePointer Function %bool
      %int_4 = OpConstant %int 4
     %uint_1 = OpConstant %uint 1
     %uint_0 = OpConstant %uint 0
 %float_0_25 = OpConstant %float 0.25
  %float_0_5 = OpConstant %float 0.5
      %int_5 = OpConstant %int 5
     %int_10 = OpConstant %int 10
     %int_11 = OpConstant %int 11
    %float_8 = OpConstant %float 8
  %float_1_5 = OpConstant %float 1.5
%float_0_0833333358 = OpConstant %float 0.0833333358
    %float_3 = OpConstant %float 3
        %781 = OpConstantComposite %v3float %float_0 %float_0 %float_0
%ConstantData = OpTypeStruct %uint %uint %uint
%_ptr_PushConstant_ConstantData = OpTypePointer PushConstant %ConstantData
        %__0 = OpVariable %_ptr_PushConstant_ConstantData PushConstant
%_ptr_PushConstant_uint = OpTypePointer PushConstant %uint
%colorSampler = OpVariable %_ptr_UniformConstant_8 UniformConstant
%_ptr_Input_v2float = OpTypePointer Input %v2float
     %inUV_0 = OpVariable %_ptr_Input_v2float Input
%_ptr_Function_v2int = OpTypePointer Function %v2int
%bloomSampler = OpVariable %_ptr_UniformConstant_8 UniformConstant
%BloomProperties = OpTypeStruct %float %float %float %float %float %float %float %uint
%_ptr_Uniform_BloomProperties = OpTypePointer Uniform %BloomProperties
 %bloomState = OpVariable %_ptr_Uniform_BloomProperties Uniform
%_ptr_Output_v4float = OpTypePointer Output %v4float
%outFragColor = OpVariable %_ptr_Output_v4float Output
%DirtSampler = OpVariable %_ptr_UniformConstant_8 UniformConstant
       %main = OpFunction %void None %3
          %5 = OpLabel
      %color = OpVariable %_ptr_Function_v3float Function
   %param_12 = OpVariable %_ptr_Function_v2float Function
%sampleScale = OpVariable %_ptr_Function_float Function
    %texSize = OpVariable %_ptr_Function_v2int Function
   %fTexSize = OpVariable %_ptr_Function_v2float Function
      %bloom = OpVariable %_ptr_Function_v3float Function
   %param_13 = OpVariable %_ptr_Function_float Function
   %param_14 = OpVariable %_ptr_Function_v2float Function
   %param_15 = OpVariable %_ptr_Function_v2float Function
   %param_16 = OpVariable %_ptr_Function_float Function
               OpStore %color %781
        %786 = OpAccessChain %_ptr_PushConstant_uint %__0 %int_1
        %787 = OpLoad %uint %786
        %788 = OpIEqual %bool %787 %uint_1
               OpSelectionMerge %790 None
               OpBranchConditional %788 %789 %798
        %789 = OpLabel
        %795 = OpLoad %v2float %inUV_0
               OpStore %param_12 %795
        %796 = OpFunctionCall %v4float %FXAA_s21_vf2_ %colorSampler %param_12
        %797 = OpVectorShuffle %v3float %796 %796 0 1 2
               OpStore %color %797
               OpBranch %790
        %798 = OpLabel
        %799 = OpLoad %8 %colorSampler
        %800 = OpLoad %v2float %inUV_0
        %801 = OpImageSampleImplicitLod %v4float %799 %800
        %802 = OpVectorShuffle %v3float %801 %801 0 1 2
               OpStore %color %802
               OpBranch %790
        %790 = OpLabel
        %803 = OpAccessChain %_ptr_PushConstant_uint %__0 %int_0
        %804 = OpLoad %uint %803
               OpSelectionMerge %806 None
               OpSwitch %804 %806 1 %805
        %805 = OpLabel
               OpStore %sampleScale %float_0_5
        %811 = OpLoad %8 %bloomSampler
        %812 = OpImage %7 %811
        %813 = OpImageQuerySizeLod %v2int %812 %int_0
               OpStore %texSize %813
        %815 = OpAccessChain %_ptr_Function_int %texSize %uint_0
        %816 = OpLoad %int %815
        %817 = OpConvertSToF %float %816
        %818 = OpAccessChain %_ptr_Function_int %texSize %uint_1
        %819 = OpLoad %int %818
        %820 = OpConvertSToF %float %819
        %821 = OpCompositeConstruct %v2float %817 %820
               OpStore %fTexSize %821
        %823 = OpLoad %v2float %fTexSize
        %824 = OpCompositeConstruct %v2float %float_1 %float_1
        %825 = OpFDiv %v2float %824 %823
               OpStore %param_13 %float_0
        %828 = OpLoad %v2float %inUV_0
               OpStore %param_14 %828
               OpStore %param_15 %825
        %831 = OpLoad %float %sampleScale
               OpStore %param_16 %831
        %832 = OpFunctionCall %v3float %UpsampleTent9_s21_f1_vf2_vf2_f1_ %bloomSampler %param_13 %param_14 %param_15 %param_16
        %836 = OpAccessChain %_ptr_Uniform_float %bloomState %int_3
        %837 = OpLoad %float %836
        %838 = OpVectorTimesScalar %v3float %832 %837
               OpStore %bloom %838
        %839 = OpLoad %v3float %bloom
        %840 = OpLoad %v3float %color
        %841 = OpFAdd %v3float %840 %839
               OpStore %color %841
        %842 = OpAccessChain %_ptr_Uniform_float %bloomState %int_5
        %843 = OpLoad %float %842
        %844 = OpLoad %v3float %color
        %845 = OpVectorTimesScalar %v3float %844 %843
               OpStore %color %845
               OpBranch %806
        %806 = OpLabel
        %850 = OpLoad %v3float %color
        %851 = OpCompositeExtract %float %850 0
        %852 = OpCompositeExtract %float %850 1
        %853 = OpCompositeExtract %float %850 2
        %854 = OpCompositeConstruct %v4float %851 %852 %853 %float_1
               OpStore %outFragColor %854
               OpReturn
               OpFunctionEnd
%UpsampleTent9_s21_f1_vf2_vf2_f1_ = OpFunction %v3float None %14
        %tex = OpFunctionParameter %_ptr_UniformConstant_8
        %lod = OpFunctionParameter %_ptr_Function_float
         %uv = OpFunctionParameter %_ptr_Function_v2float
  %texelSize = OpFunctionParameter %_ptr_Function_v2float
     %radius = OpFunctionParameter %_ptr_Function_float
         %21 = OpLabel
     %offset = OpVariable %_ptr_Function_v4float Function
     %result = OpVariable %_ptr_Function_v3float Function
         %35 = OpLoad %v2float %texelSize
         %36 = OpVectorShuffle %v4float %35 %35 0 1 0 1
         %41 = OpFMul %v4float %36 %40
         %42 = OpLoad %float %radius
         %43 = OpVectorTimesScalar %v4float %41 %42
               OpStore %offset %43
         %45 = OpLoad %8 %tex
         %46 = OpLoad %v2float %uv
         %47 = OpLoad %float %lod
         %48 = OpImageSampleExplicitLod %v4float %45 %46 Lod %47
         %49 = OpVectorShuffle %v3float %48 %48 0 1 2
         %51 = OpVectorTimesScalar %v3float %49 %float_4
               OpStore %result %51
         %52 = OpLoad %8 %tex
         %53 = OpLoad %v2float %uv
         %54 = OpLoad %v4float %offset
         %55 = OpVectorShuffle %v2float %54 %54 0 1
         %56 = OpFSub %v2float %53 %55
         %57 = OpLoad %float %lod
         %58 = OpImageSampleExplicitLod %v4float %52 %56 Lod %57
         %59 = OpVectorShuffle %v3float %58 %58 0 1 2
         %60 = OpLoad %v3float %result
         %61 = OpFAdd %v3float %60 %59
               OpStore %result %61
         %62 = OpLoad %8 %tex
         %63 = OpLoad %v2float %uv
         %64 = OpLoad %v4float %offset
         %65 = OpVectorShuffle %v2float %64 %64 3 1
         %66 = OpFSub %v2float %63 %65
         %67 = OpLoad %float %lod
         %68 = OpImageSampleExplicitLod %v4float %62 %66 Lod %67
         %69 = OpVectorShuffle %v3float %68 %68 0 1 2
         %71 = OpVectorTimesScalar %v3float %69 %float_2
         %72 = OpLoad %v3float %result
         %73 = OpFAdd %v3float %72 %71
               OpStore %result %73
         %74 = OpLoad %8 %tex
         %75 = OpLoad %v2float %uv
         %76 = OpLoad %v4float %offset
         %77 = OpVectorShuffle %v2float %76 %76 2 1
         %78 = OpFSub %v2float %75 %77
         %79 = OpLoad %float %lod
         %80 = OpImageSampleExplicitLod %v4float %74 %78 Lod %79
         %81 = OpVectorShuffle %v3float %80 %80 0 1 2
         %82 = OpLoad %v3float %result
         %83 = OpFAdd %v3float %82 %81
               OpStore %result %83
         %84 = OpLoad %8 %tex
         %85 = OpLoad %v2float %uv
         %86 = OpLoad %v4float %offset
         %87 = OpVectorShuffle %v2float %86 %86 2 3
         %88 = OpFAdd %v2float %85 %87
         %89 = OpLoad %float %lod
         %90 = OpImageSampleExplicitLod %v4float %84 %88 Lod %89
         %91 = OpVectorShuffle %v3float %90 %90 0 1 2
         %92 = OpVectorTimesScalar %v3float %91 %float_2
         %93 = OpLoad %v3float %result
         %94 = OpFAdd %v3float %93 %92
               OpStore %result %94
         %95 = OpLoad %8 %tex
         %96 = OpLoad %v2float %uv
         %97 = OpLoad %v4float %offset
         %98 = OpVectorShuffle %v2float %97 %97 0 3
         %99 = OpFAdd %v2float %96 %98
        %100 = OpLoad %float %lod
        %101 = OpImageSampleExplicitLod %v4float %95 %99 Lod %100
        %102 = OpVectorShuffle %v3float %101 %101 0 1 2
        %103 = OpVectorTimesScalar %v3float %102 %float_2
        %104 = OpLoad %v3float %result
        %105 = OpFAdd %v3float %104 %103
               OpStore %result %105
        %106 = OpLoad %8 %tex
        %107 = OpLoad %v2float %uv
        %108 = OpLoad %v4float %offset
        %109 = OpVectorShuffle %v2float %108 %108 2 1
        %110 = OpFAdd %v2float %107 %109
        %111 = OpLoad %float %lod
        %112 = OpImageSampleExplicitLod %v4float %106 %110 Lod %111
        %113 = OpVectorShuffle %v3float %112 %112 0 1 2
        %114 = OpLoad %v3float %result
        %115 = OpFAdd %v3float %114 %113
               OpStore %result %115
        %116 = OpLoad %8 %tex
        %117 = OpLoad %v2float %uv
        %118 = OpLoad %v4float %offset
        %119 = OpVectorShuffle %v2float %118 %118 3 1
        %120 = OpFAdd %v2float %117 %119
        %121 = OpLoad %float %lod
        %122 = OpImageSampleExplicitLod %v4float %116 %120 Lod %121
        %123 = OpVectorShuffle %v3float %122 %122 0 1 2
        %124 = OpVectorTimesScalar %v3float %123 %float_2
        %125 = OpLoad %v3float %result
        %126 = OpFAdd %v3float %125 %124
               OpStore %result %126
        %127 = OpLoad %8 %tex
        %128 = OpLoad %v2float %uv
        %129 = OpLoad %v4float %offset
        %130 = OpVectorShuffle %v2float %129 %129 0 1
        %131 = OpFAdd %v2float %128 %130
        %132 = OpLoad %float %lod
        %133 = OpImageSampleExplicitLod %v4float %127 %131 Lod %132
        %134 = OpVectorShuffle %v3float %133 %133 0 1 2
        %135 = OpLoad %v3float %result
        %136 = OpFAdd %v3float %135 %134
               OpStore %result %136
        %137 = OpLoad %v3float %result
        %139 = OpVectorTimesScalar %v3float %137 %float_0_0625
               OpReturnValue %139
               OpFunctionEnd
%rgb2luma_vf3_ = OpFunction %float None %23
        %rgb = OpFunctionParameter %_ptr_Function_v3float
         %26 = OpLabel
        %142 = OpLoad %v3float %rgb
        %147 = OpDot %float %142 %146
        %148 = OpExtInst %float %1 Sqrt %147
               OpReturnValue %148
               OpFunctionEnd
%FXAA_s21_vf2_ = OpFunction %v4float None %28
%screenTexture = OpFunctionParameter %_ptr_UniformConstant_8
       %inUV = OpFunctionParameter %_ptr_Function_v2float
         %32 = OpLabel
%EDGE_THRESHOLD_MIN = OpVariable %_ptr_Function_float Function
%EDGE_THRESHOLD_MAX = OpVariable %_ptr_Function_float Function
 %ITERATIONS = OpVariable %_ptr_Function_int Function
%SUBPIXEL_QUALITY = OpVariable %_ptr_Function_float Function
%colorCenter = OpVariable %_ptr_Function_v3float Function
 %lumaCenter = OpVariable %_ptr_Function_float Function
      %param = OpVariable %_ptr_Function_v3float Function
   %lumaDown = OpVariable %_ptr_Function_float Function
    %param_0 = OpVariable %_ptr_Function_v3float Function
     %lumaUp = OpVariable %_ptr_Function_float Function
    %param_1 = OpVariable %_ptr_Function_v3float Function
   %lumaLeft = OpVariable %_ptr_Function_float Function
    %param_2 = OpVariable %_ptr_Function_v3float Function
  %lumaRight = OpVariable %_ptr_Function_float Function
    %param_3 = OpVariable %_ptr_Function_v3float Function
    %lumaMin = OpVariable %_ptr_Function_float Function
    %lumaMax = OpVariable %_ptr_Function_float Function
  %lumaRange = OpVariable %_ptr_Function_float Function
%lumaDownLeft = OpVariable %_ptr_Function_float Function
    %param_4 = OpVariable %_ptr_Function_v3float Function
%lumaUpRight = OpVariable %_ptr_Function_float Function
    %param_5 = OpVariable %_ptr_Function_v3float Function
 %lumaUpLeft = OpVariable %_ptr_Function_float Function
    %param_6 = OpVariable %_ptr_Function_v3float Function
%lumaDownRight = OpVariable %_ptr_Function_float Function
    %param_7 = OpVariable %_ptr_Function_v3float Function
 %lumaDownUp = OpVariable %_ptr_Function_float Function
%lumaLeftRight = OpVariable %_ptr_Function_float Function
%lumaLeftCorners = OpVariable %_ptr_Function_float Function
%lumaDownCorners = OpVariable %_ptr_Function_float Function
%lumaRightCorners = OpVariable %_ptr_Function_float Function
%lumaUpCorners = OpVariable %_ptr_Function_float Function
%edgeHorizontal = OpVariable %_ptr_Function_float Function
%edgeVertical = OpVariable %_ptr_Function_float Function
%isHorizontal = OpVariable %_ptr_Function_bool Function
 %stepLength = OpVariable %_ptr_Function_float Function
        %360 = OpVariable %_ptr_Function_float Function
      %luma1 = OpVariable %_ptr_Function_float Function
      %luma2 = OpVariable %_ptr_Function_float Function
  %gradient1 = OpVariable %_ptr_Function_float Function
  %gradient2 = OpVariable %_ptr_Function_float Function
%is1Steepest = OpVariable %_ptr_Function_bool Function
%gradientScaled = OpVariable %_ptr_Function_float Function
%lumaLocalAverage = OpVariable %_ptr_Function_float Function
  %currentUv = OpVariable %_ptr_Function_v2float Function
   %offset_0 = OpVariable %_ptr_Function_v2float Function
        %440 = OpVariable %_ptr_Function_v2float Function
        %uv1 = OpVariable %_ptr_Function_v2float Function
        %uv2 = OpVariable %_ptr_Function_v2float Function
   %lumaEnd1 = OpVariable %_ptr_Function_float Function
    %param_8 = OpVariable %_ptr_Function_v3float Function
   %lumaEnd2 = OpVariable %_ptr_Function_float Function
    %param_9 = OpVariable %_ptr_Function_v3float Function
   %reached1 = OpVariable %_ptr_Function_bool Function
   %reached2 = OpVariable %_ptr_Function_bool Function
%reachedBoth = OpVariable %_ptr_Function_bool Function
          %i = OpVariable %_ptr_Function_int Function
   %param_10 = OpVariable %_ptr_Function_v3float Function
   %param_11 = OpVariable %_ptr_Function_v3float Function
        %569 = OpVariable %_ptr_Function_float Function
        %575 = OpVariable %_ptr_Function_float Function
        %581 = OpVariable %_ptr_Function_float Function
        %605 = OpVariable %_ptr_Function_float Function
        %611 = OpVariable %_ptr_Function_float Function
        %616 = OpVariable %_ptr_Function_float Function
  %distance1 = OpVariable %_ptr_Function_float Function
        %638 = OpVariable %_ptr_Function_float Function
  %distance2 = OpVariable %_ptr_Function_float Function
        %655 = OpVariable %_ptr_Function_float Function
%isDirection1 = OpVariable %_ptr_Function_bool Function
%distanceFinal = OpVariable %_ptr_Function_float Function
%edgeThickness = OpVariable %_ptr_Function_float Function
%isLumaCenterSmaller = OpVariable %_ptr_Function_bool Function
%correctVariation1 = OpVariable %_ptr_Function_bool Function
%correctVariation2 = OpVariable %_ptr_Function_bool Function
%correctVariation = OpVariable %_ptr_Function_bool Function
%pixelOffset = OpVariable %_ptr_Function_float Function
%finalOffset = OpVariable %_ptr_Function_float Function
%lumaAverage = OpVariable %_ptr_Function_float Function
%subPixelOffset1 = OpVariable %_ptr_Function_float Function
%subPixelOffset2 = OpVariable %_ptr_Function_float Function
%subPixelOffsetFinal = OpVariable %_ptr_Function_float Function
    %finalUv = OpVariable %_ptr_Function_v2float Function
 %finalColor = OpVariable %_ptr_Function_v3float Function
        %159 = OpAccessChain %_ptr_Uniform_float %_ %int_0
        %160 = OpLoad %float %159
               OpStore %EDGE_THRESHOLD_MIN %160
        %163 = OpAccessChain %_ptr_Uniform_float %_ %int_1
        %164 = OpLoad %float %163
               OpStore %EDGE_THRESHOLD_MAX %164
        %168 = OpAccessChain %_ptr_Uniform_float %_ %int_2
        %169 = OpLoad %float %168
        %170 = OpConvertFToS %int %169
               OpStore %ITERATIONS %170
        %173 = OpAccessChain %_ptr_Uniform_float %_ %int_3
        %174 = OpLoad %float %173
               OpStore %SUBPIXEL_QUALITY %174
        %176 = OpLoad %8 %screenTexture
        %177 = OpLoad %v2float %inUV
        %178 = OpImageSampleImplicitLod %v4float %176 %177
        %179 = OpVectorShuffle %v3float %178 %178 0 1 2
               OpStore %colorCenter %179
        %182 = OpLoad %v3float %colorCenter
               OpStore %param %182
        %183 = OpFunctionCall %float %rgb2luma_vf3_ %param
               OpStore %lumaCenter %183
        %185 = OpLoad %8 %screenTexture
        %186 = OpLoad %v2float %inUV
        %190 = OpImageSampleImplicitLod %v4float %185 %186 ConstOffset %189
        %192 = OpVectorShuffle %v3float %190 %190 0 1 2
               OpStore %param_0 %192
        %193 = OpFunctionCall %float %rgb2luma_vf3_ %param_0
               OpStore %lumaDown %193
        %195 = OpLoad %8 %screenTexture
        %196 = OpLoad %v2float %inUV
        %198 = OpImageSampleImplicitLod %v4float %195 %196 ConstOffset %197
        %200 = OpVectorShuffle %v3float %198 %198 0 1 2
               OpStore %param_1 %200
        %201 = OpFunctionCall %float %rgb2luma_vf3_ %param_1
               OpStore %lumaUp %201
        %203 = OpLoad %8 %screenTexture
        %204 = OpLoad %v2float %inUV
        %206 = OpImageSampleImplicitLod %v4float %203 %204 ConstOffset %205
        %208 = OpVectorShuffle %v3float %206 %206 0 1 2
               OpStore %param_2 %208
        %209 = OpFunctionCall %float %rgb2luma_vf3_ %param_2
               OpStore %lumaLeft %209
        %211 = OpLoad %8 %screenTexture
        %212 = OpLoad %v2float %inUV
        %214 = OpImageSampleImplicitLod %v4float %211 %212 ConstOffset %213
        %216 = OpVectorShuffle %v3float %214 %214 0 1 2
               OpStore %param_3 %216
        %217 = OpFunctionCall %float %rgb2luma_vf3_ %param_3
               OpStore %lumaRight %217
        %219 = OpLoad %float %lumaCenter
        %220 = OpLoad %float %lumaDown
        %221 = OpLoad %float %lumaUp
        %222 = OpExtInst %float %1 FMin %220 %221
        %223 = OpLoad %float %lumaLeft
        %224 = OpLoad %float %lumaRight
        %225 = OpExtInst %float %1 FMin %223 %224
        %226 = OpExtInst %float %1 FMin %222 %225
        %227 = OpExtInst %float %1 FMin %219 %226
               OpStore %lumaMin %227
        %229 = OpLoad %float %lumaCenter
        %230 = OpLoad %float %lumaDown
        %231 = OpLoad %float %lumaUp
        %232 = OpExtInst %float %1 FMax %230 %231
        %233 = OpLoad %float %lumaLeft
        %234 = OpLoad %float %lumaRight
        %235 = OpExtInst %float %1 FMax %233 %234
        %236 = OpExtInst %float %1 FMax %232 %235
        %237 = OpExtInst %float %1 FMax %229 %236
               OpStore %lumaMax %237
        %239 = OpLoad %float %lumaMax
        %240 = OpLoad %float %lumaMin
        %241 = OpFSub %float %239 %240
               OpStore %lumaRange %241
        %242 = OpLoad %float %lumaRange
        %243 = OpLoad %float %EDGE_THRESHOLD_MIN
        %244 = OpLoad %float %lumaMax
        %245 = OpLoad %float %EDGE_THRESHOLD_MAX
        %246 = OpFMul %float %244 %245
        %247 = OpExtInst %float %1 FMax %243 %246
        %249 = OpFOrdLessThan %bool %242 %247
               OpSelectionMerge %251 None
               OpBranchConditional %249 %250 %251
        %250 = OpLabel
        %252 = OpLoad %v3float %colorCenter
        %253 = OpCompositeExtract %float %252 0
        %254 = OpCompositeExtract %float %252 1
        %255 = OpCompositeExtract %float %252 2
        %256 = OpCompositeConstruct %v4float %253 %254 %255 %float_0
               OpReturnValue %256
        %251 = OpLabel
        %259 = OpLoad %8 %screenTexture
        %260 = OpLoad %v2float %inUV
        %262 = OpImageSampleImplicitLod %v4float %259 %260 ConstOffset %261
        %264 = OpVectorShuffle %v3float %262 %262 0 1 2
               OpStore %param_4 %264
        %265 = OpFunctionCall %float %rgb2luma_vf3_ %param_4
               OpStore %lumaDownLeft %265
        %267 = OpLoad %8 %screenTexture
        %268 = OpLoad %v2float %inUV
        %270 = OpImageSampleImplicitLod %v4float %267 %268 ConstOffset %269
        %272 = OpVectorShuffle %v3float %270 %270 0 1 2
               OpStore %param_5 %272
        %273 = OpFunctionCall %float %rgb2luma_vf3_ %param_5
               OpStore %lumaUpRight %273
        %275 = OpLoad %8 %screenTexture
        %276 = OpLoad %v2float %inUV
        %278 = OpImageSampleImplicitLod %v4float %275 %276 ConstOffset %277
        %280 = OpVectorShuffle %v3float %278 %278 0 1 2
               OpStore %param_6 %280
        %281 = OpFunctionCall %float %rgb2luma_vf3_ %param_6
               OpStore %lumaUpLeft %281
        %283 = OpLoad %8 %screenTexture
        %284 = OpLoad %v2float %inUV
        %286 = OpImageSampleImplicitLod %v4float %283 %284 ConstOffset %285
        %288 = OpVectorShuffle %v3float %286 %286 0 1 2
               OpStore %param_7 %288
        %289 = OpFunctionCall %float %rgb2luma_vf3_ %param_7
               OpStore %lumaDownRight %289
        %291 = OpLoad %float %lumaDown
        %292 = OpLoad %float %lumaUp
        %293 = OpFAdd %float %291 %292
               OpStore %lumaDownUp %293
        %295 = OpLoad %float %lumaLeft
        %296 = OpLoad %float %lumaRight
        %297 = OpFAdd %float %295 %296
               OpStore %lumaLeftRight %297
        %299 = OpLoad %float %lumaDownLeft
        %300 = OpLoad %float %lumaUpLeft
        %301 = OpFAdd %float %299 %300
               OpStore %lumaLeftCorners %301
        %303 = OpLoad %float %lumaDownLeft
        %304 = OpLoad %float %lumaDownRight
        %305 = OpFAdd %float %303 %304
               OpStore %lumaDownCorners %305
        %307 = OpLoad %float %lumaDownRight
        %308 = OpLoad %float %lumaUpRight
        %309 = OpFAdd %float %307 %308
               OpStore %lumaRightCorners %309
        %311 = OpLoad %float %lumaUpRight
        %312 = OpLoad %float %lumaUpLeft
        %313 = OpFAdd %float %311 %312
               OpStore %lumaUpCorners %313
        %316 = OpLoad %float %lumaLeft
        %317 = OpFMul %float %float_n2 %316
        %318 = OpLoad %float %lumaLeftCorners
        %319 = OpFAdd %float %317 %318
        %320 = OpExtInst %float %1 FAbs %319
        %321 = OpLoad %float %lumaCenter
        %322 = OpFMul %float %float_n2 %321
        %323 = OpLoad %float %lumaDownUp
        %324 = OpFAdd %float %322 %323
        %325 = OpExtInst %float %1 FAbs %324
        %326 = OpFMul %float %325 %float_2
        %327 = OpFAdd %float %320 %326
        %328 = OpLoad %float %lumaRight
        %329 = OpFMul %float %float_n2 %328
        %330 = OpLoad %float %lumaRightCorners
        %331 = OpFAdd %float %329 %330
        %332 = OpExtInst %float %1 FAbs %331
        %333 = OpFAdd %float %327 %332
               OpStore %edgeHorizontal %333
        %335 = OpLoad %float %lumaUp
        %336 = OpFMul %float %float_n2 %335
        %337 = OpLoad %float %lumaUpCorners
        %338 = OpFAdd %float %336 %337
        %339 = OpExtInst %float %1 FAbs %338
        %340 = OpLoad %float %lumaCenter
        %341 = OpFMul %float %float_n2 %340
        %342 = OpLoad %float %lumaLeftRight
        %343 = OpFAdd %float %341 %342
        %344 = OpExtInst %float %1 FAbs %343
        %345 = OpFMul %float %344 %float_2
        %346 = OpFAdd %float %339 %345
        %347 = OpLoad %float %lumaDown
        %348 = OpFMul %float %float_n2 %347
        %349 = OpLoad %float %lumaDownCorners
        %350 = OpFAdd %float %348 %349
        %351 = OpExtInst %float %1 FAbs %350
        %352 = OpFAdd %float %346 %351
               OpStore %edgeVertical %352
        %355 = OpLoad %float %edgeHorizontal
        %356 = OpLoad %float %edgeVertical
        %357 = OpFOrdGreaterThanEqual %bool %355 %356
               OpStore %isHorizontal %357
        %359 = OpLoad %bool %isHorizontal
               OpSelectionMerge %362 None
               OpBranchConditional %359 %361 %367
        %361 = OpLabel
        %365 = OpAccessChain %_ptr_Uniform_float %_ %int_4 %uint_1
        %366 = OpLoad %float %365
               OpStore %360 %366
               OpBranch %362
        %367 = OpLabel
        %369 = OpAccessChain %_ptr_Uniform_float %_ %int_4 %uint_0
        %370 = OpLoad %float %369
               OpStore %360 %370
               OpBranch %362
        %362 = OpLabel
        %371 = OpLoad %float %360
               OpStore %stepLength %371
        %373 = OpLoad %bool %isHorizontal
        %374 = OpLoad %float %lumaDown
        %375 = OpLoad %float %lumaLeft
        %376 = OpSelect %float %373 %374 %375
               OpStore %luma1 %376
        %378 = OpLoad %bool %isHorizontal
        %379 = OpLoad %float %lumaUp
        %380 = OpLoad %float %lumaRight
        %381 = OpSelect %float %378 %379 %380
               OpStore %luma2 %381
        %383 = OpLoad %float %luma1
        %384 = OpLoad %float %lumaCenter
        %385 = OpFSub %float %383 %384
               OpStore %gradient1 %385
        %387 = OpLoad %float %luma2
        %388 = OpLoad %float %lumaCenter
        %389 = OpFSub %float %387 %388
               OpStore %gradient2 %389
        %391 = OpLoad %float %gradient1
        %392 = OpExtInst %float %1 FAbs %391
        %393 = OpLoad %float %gradient2
        %394 = OpExtInst %float %1 FAbs %393
        %395 = OpFOrdGreaterThanEqual %bool %392 %394
               OpStore %is1Steepest %395
        %398 = OpLoad %float %gradient1
        %399 = OpExtInst %float %1 FAbs %398
        %400 = OpLoad %float %gradient2
        %401 = OpExtInst %float %1 FAbs %400
        %402 = OpExtInst %float %1 FMax %399 %401
        %403 = OpFMul %float %float_0_25 %402
               OpStore %gradientScaled %403
               OpStore %lumaLocalAverage %float_0
        %405 = OpLoad %bool %is1Steepest
               OpSelectionMerge %407 None
               OpBranchConditional %405 %406 %415
        %406 = OpLabel
        %408 = OpLoad %float %stepLength
        %409 = OpFNegate %float %408
               OpStore %stepLength %409
        %411 = OpLoad %float %luma1
        %412 = OpLoad %float %lumaCenter
        %413 = OpFAdd %float %411 %412
        %414 = OpFMul %float %float_0_5 %413
               OpStore %lumaLocalAverage %414
               OpBranch %407
        %415 = OpLabel
        %416 = OpLoad %float %luma2
        %417 = OpLoad %float %lumaCenter
        %418 = OpFAdd %float %416 %417
        %419 = OpFMul %float %float_0_5 %418
               OpStore %lumaLocalAverage %419
               OpBranch %407
        %407 = OpLabel
        %421 = OpLoad %v2float %inUV
               OpStore %currentUv %421
        %422 = OpLoad %bool %isHorizontal
               OpSelectionMerge %424 None
               OpBranchConditional %422 %423 %431
        %423 = OpLabel
        %425 = OpLoad %float %stepLength
        %426 = OpFMul %float %425 %float_0_5
        %427 = OpAccessChain %_ptr_Function_float %currentUv %uint_1
        %428 = OpLoad %float %427
        %429 = OpFAdd %float %428 %426
        %430 = OpAccessChain %_ptr_Function_float %currentUv %uint_1
               OpStore %430 %429
               OpBranch %424
        %431 = OpLabel
        %432 = OpLoad %float %stepLength
        %433 = OpFMul %float %432 %float_0_5
        %434 = OpAccessChain %_ptr_Function_float %currentUv %uint_0
        %435 = OpLoad %float %434
        %436 = OpFAdd %float %435 %433
        %437 = OpAccessChain %_ptr_Function_float %currentUv %uint_0
               OpStore %437 %436
               OpBranch %424
        %424 = OpLabel
        %439 = OpLoad %bool %isHorizontal
               OpSelectionMerge %442 None
               OpBranchConditional %439 %441 %446
        %441 = OpLabel
        %443 = OpAccessChain %_ptr_Uniform_float %_ %int_4 %uint_0
        %444 = OpLoad %float %443
        %445 = OpCompositeConstruct %v2float %444 %float_0
               OpStore %440 %445
               OpBranch %442
        %446 = OpLabel
        %447 = OpAccessChain %_ptr_Uniform_float %_ %int_4 %uint_1
        %448 = OpLoad %float %447
        %449 = OpCompositeConstruct %v2float %float_0 %448
               OpStore %440 %449
               OpBranch %442
        %442 = OpLabel
        %450 = OpLoad %v2float %440
               OpStore %offset_0 %450
        %452 = OpLoad %v2float %currentUv
        %453 = OpLoad %v2float %offset_0
        %454 = OpVectorTimesScalar %v2float %453 %float_1
        %455 = OpFSub %v2float %452 %454
               OpStore %uv1 %455
        %457 = OpLoad %v2float %currentUv
        %458 = OpLoad %v2float %offset_0
        %459 = OpVectorTimesScalar %v2float %458 %float_1
        %460 = OpFAdd %v2float %457 %459
               OpStore %uv2 %460
        %462 = OpLoad %8 %screenTexture
        %463 = OpLoad %v2float %uv1
        %464 = OpImageSampleImplicitLod %v4float %462 %463
        %466 = OpVectorShuffle %v3float %464 %464 0 1 2
               OpStore %param_8 %466
        %467 = OpFunctionCall %float %rgb2luma_vf3_ %param_8
               OpStore %lumaEnd1 %467
        %469 = OpLoad %8 %screenTexture
        %470 = OpLoad %v2float %uv2
        %471 = OpImageSampleImplicitLod %v4float %469 %470
        %473 = OpVectorShuffle %v3float %471 %471 0 1 2
               OpStore %param_9 %473
        %474 = OpFunctionCall %float %rgb2luma_vf3_ %param_9
               OpStore %lumaEnd2 %474
        %475 = OpLoad %float %lumaLocalAverage
        %476 = OpLoad %float %lumaEnd1
        %477 = OpFSub %float %476 %475
               OpStore %lumaEnd1 %477
        %478 = OpLoad %float %lumaLocalAverage
        %479 = OpLoad %float %lumaEnd2
        %480 = OpFSub %float %479 %478
               OpStore %lumaEnd2 %480
        %482 = OpLoad %float %lumaEnd1
        %483 = OpExtInst %float %1 FAbs %482
        %484 = OpLoad %float %gradientScaled
        %485 = OpFOrdGreaterThanEqual %bool %483 %484
               OpStore %reached1 %485
        %487 = OpLoad %float %lumaEnd2
        %488 = OpExtInst %float %1 FAbs %487
        %489 = OpLoad %float %gradientScaled
        %490 = OpFOrdGreaterThanEqual %bool %488 %489
               OpStore %reached2 %490
        %492 = OpLoad %bool %reached1
        %493 = OpLoad %bool %reached2
        %494 = OpLogicalAnd %bool %492 %493
               OpStore %reachedBoth %494
        %495 = OpLoad %bool %reached1
        %496 = OpLogicalNot %bool %495
               OpSelectionMerge %498 None
               OpBranchConditional %496 %497 %498
        %497 = OpLabel
        %499 = OpLoad %v2float %offset_0
        %500 = OpVectorTimesScalar %v2float %499 %float_1
        %501 = OpLoad %v2float %uv1
        %502 = OpFSub %v2float %501 %500
               OpStore %uv1 %502
               OpBranch %498
        %498 = OpLabel
        %503 = OpLoad %bool %reached2
        %504 = OpLogicalNot %bool %503
               OpSelectionMerge %506 None
               OpBranchConditional %504 %505 %506
        %505 = OpLabel
        %507 = OpLoad %v2float %offset_0
        %508 = OpVectorTimesScalar %v2float %507 %float_1
        %509 = OpLoad %v2float %uv2
        %510 = OpFAdd %v2float %509 %508
               OpStore %uv2 %510
               OpBranch %506
        %506 = OpLabel
        %511 = OpLoad %bool %reachedBoth
        %512 = OpLogicalNot %bool %511
               OpSelectionMerge %514 None
               OpBranchConditional %512 %513 %514
        %513 = OpLabel
               OpStore %i %int_2
               OpBranch %516
        %516 = OpLabel
               OpLoopMerge %518 %519 None
               OpBranch %520
        %520 = OpLabel
        %521 = OpLoad %int %i
        %522 = OpLoad %int %ITERATIONS
        %523 = OpSLessThan %bool %521 %522
               OpBranchConditional %523 %517 %518
        %517 = OpLabel
        %524 = OpLoad %bool %reached1
        %525 = OpLogicalNot %bool %524
               OpSelectionMerge %527 None
               OpBranchConditional %525 %526 %527
        %526 = OpLabel
        %528 = OpLoad %8 %screenTexture
        %529 = OpLoad %v2float %uv1
        %530 = OpImageSampleImplicitLod %v4float %528 %529
        %532 = OpVectorShuffle %v3float %530 %530 0 1 2
               OpStore %param_10 %532
        %533 = OpFunctionCall %float %rgb2luma_vf3_ %param_10
               OpStore %lumaEnd1 %533
        %534 = OpLoad %float %lumaEnd1
        %535 = OpLoad %float %lumaLocalAverage
        %536 = OpFSub %float %534 %535
               OpStore %lumaEnd1 %536
               OpBranch %527
        %527 = OpLabel
        %537 = OpLoad %bool %reached2
        %538 = OpLogicalNot %bool %537
               OpSelectionMerge %540 None
               OpBranchConditional %538 %539 %540
        %539 = OpLabel
        %541 = OpLoad %8 %screenTexture
        %542 = OpLoad %v2float %uv2
        %543 = OpImageSampleImplicitLod %v4float %541 %542
        %545 = OpVectorShuffle %v3float %543 %543 0 1 2
               OpStore %param_11 %545
        %546 = OpFunctionCall %float %rgb2luma_vf3_ %param_11
               OpStore %lumaEnd2 %546
        %547 = OpLoad %float %lumaEnd2
        %548 = OpLoad %float %lumaLocalAverage
        %549 = OpFSub %float %547 %548
               OpStore %lumaEnd2 %549
               OpBranch %540
        %540 = OpLabel
        %550 = OpLoad %float %lumaEnd1
        %551 = OpExtInst %float %1 FAbs %550
        %552 = OpLoad %float %gradientScaled
        %553 = OpFOrdGreaterThanEqual %bool %551 %552
               OpStore %reached1 %553
        %554 = OpLoad %float %lumaEnd2
        %555 = OpExtInst %float %1 FAbs %554
        %556 = OpLoad %float %gradientScaled
        %557 = OpFOrdGreaterThanEqual %bool %555 %556
               OpStore %reached2 %557
        %558 = OpLoad %bool %reached1
        %559 = OpLoad %bool %reached2
        %560 = OpLogicalAnd %bool %558 %559
               OpStore %reachedBoth %560
        %561 = OpLoad %bool %reached1
        %562 = OpLogicalNot %bool %561
               OpSelectionMerge %564 None
               OpBranchConditional %562 %563 %564
        %563 = OpLabel
        %565 = OpLoad %v2float %offset_0
        %566 = OpLoad %int %i
        %568 = OpSLessThan %bool %566 %int_5
               OpSelectionMerge %571 None
               OpBranchConditional %568 %570 %572
        %570 = OpLabel
               OpStore %569 %float_1
               OpBranch %571
        %572 = OpLabel
        %573 = OpLoad %int %i
        %574 = OpSGreaterThan %bool %573 %int_5
               OpSelectionMerge %577 None
               OpBranchConditional %574 %576 %591
        %576 = OpLabel
        %578 = OpLoad %int %i
        %580 = OpSLessThan %bool %578 %int_10
               OpSelectionMerge %583 None
               OpBranchConditional %580 %582 %584
        %582 = OpLabel
               OpStore %581 %float_2
               OpBranch %583
        %584 = OpLabel
        %585 = OpLoad %int %i
        %587 = OpSLessThan %bool %585 %int_11
        %589 = OpSelect %float %587 %float_4 %float_8
               OpStore %581 %589
               OpBranch %583
        %583 = OpLabel
        %590 = OpLoad %float %581
               OpStore %575 %590
               OpBranch %577
        %591 = OpLabel
               OpStore %575 %float_1_5
               OpBranch %577
        %577 = OpLabel
        %593 = OpLoad %float %575
               OpStore %569 %593
               OpBranch %571
        %571 = OpLabel
        %594 = OpLoad %float %569
        %595 = OpVectorTimesScalar %v2float %565 %594
        %596 = OpLoad %v2float %uv1
        %597 = OpFSub %v2float %596 %595
               OpStore %uv1 %597
               OpBranch %564
        %564 = OpLabel
        %598 = OpLoad %bool %reached2
        %599 = OpLogicalNot %bool %598
               OpSelectionMerge %601 None
               OpBranchConditional %599 %600 %601
        %600 = OpLabel
        %602 = OpLoad %v2float %offset_0
        %603 = OpLoad %int %i
        %604 = OpSLessThan %bool %603 %int_5
               OpSelectionMerge %607 None
               OpBranchConditional %604 %606 %608
        %606 = OpLabel
               OpStore %605 %float_1
               OpBranch %607
        %608 = OpLabel
        %609 = OpLoad %int %i
        %610 = OpSGreaterThan %bool %609 %int_5
               OpSelectionMerge %613 None
               OpBranchConditional %610 %612 %624
        %612 = OpLabel
        %614 = OpLoad %int %i
        %615 = OpSLessThan %bool %614 %int_10
               OpSelectionMerge %618 None
               OpBranchConditional %615 %617 %619
        %617 = OpLabel
               OpStore %616 %float_2
               OpBranch %618
        %619 = OpLabel
        %620 = OpLoad %int %i
        %621 = OpSLessThan %bool %620 %int_11
        %622 = OpSelect %float %621 %float_4 %float_8
               OpStore %616 %622
               OpBranch %618
        %618 = OpLabel
        %623 = OpLoad %float %616
               OpStore %611 %623
               OpBranch %613
        %624 = OpLabel
               OpStore %611 %float_1_5
               OpBranch %613
        %613 = OpLabel
        %625 = OpLoad %float %611
               OpStore %605 %625
               OpBranch %607
        %607 = OpLabel
        %626 = OpLoad %float %605
        %627 = OpVectorTimesScalar %v2float %602 %626
        %628 = OpLoad %v2float %uv2
        %629 = OpFAdd %v2float %628 %627
               OpStore %uv2 %629
               OpBranch %601
        %601 = OpLabel
        %630 = OpLoad %bool %reachedBoth
               OpSelectionMerge %632 None
               OpBranchConditional %630 %631 %632
        %631 = OpLabel
               OpBranch %518
        %632 = OpLabel
               OpBranch %519
        %519 = OpLabel
        %634 = OpLoad %int %i
        %635 = OpIAdd %int %634 %int_1
               OpStore %i %635
               OpBranch %516
        %518 = OpLabel
               OpBranch %514
        %514 = OpLabel
        %637 = OpLoad %bool %isHorizontal
               OpSelectionMerge %640 None
               OpBranchConditional %637 %639 %646
        %639 = OpLabel
        %641 = OpAccessChain %_ptr_Function_float %inUV %uint_0
        %642 = OpLoad %float %641
        %643 = OpAccessChain %_ptr_Function_float %uv1 %uint_0
        %644 = OpLoad %float %643
        %645 = OpFSub %float %642 %644
               OpStore %638 %645
               OpBranch %640
        %646 = OpLabel
        %647 = OpAccessChain %_ptr_Function_float %inUV %uint_1
        %648 = OpLoad %float %647
        %649 = OpAccessChain %_ptr_Function_float %uv1 %uint_1
        %650 = OpLoad %float %649
        %651 = OpFSub %float %648 %650
               OpStore %638 %651
               OpBranch %640
        %640 = OpLabel
        %652 = OpLoad %float %638
               OpStore %distance1 %652
        %654 = OpLoad %bool %isHorizontal
               OpSelectionMerge %657 None
               OpBranchConditional %654 %656 %663
        %656 = OpLabel
        %658 = OpAccessChain %_ptr_Function_float %uv2 %uint_0
        %659 = OpLoad %float %658
        %660 = OpAccessChain %_ptr_Function_float %inUV %uint_0
        %661 = OpLoad %float %660
        %662 = OpFSub %float %659 %661
               OpStore %655 %662
               OpBranch %657
        %663 = OpLabel
        %664 = OpAccessChain %_ptr_Function_float %uv2 %uint_1
        %665 = OpLoad %float %664
        %666 = OpAccessChain %_ptr_Function_float %inUV %uint_1
        %667 = OpLoad %float %666
        %668 = OpFSub %float %665 %667
               OpStore %655 %668
               OpBranch %657
        %657 = OpLabel
        %669 = OpLoad %float %655
               OpStore %distance2 %669
        %671 = OpLoad %float %distance1
        %672 = OpLoad %float %distance2
        %673 = OpFOrdLessThan %bool %671 %672
               OpStore %isDirection1 %673
        %675 = OpLoad %float %distance1
        %676 = OpLoad %float %distance2
        %677 = OpExtInst %float %1 FMin %675 %676
               OpStore %distanceFinal %677
        %679 = OpLoad %float %distance1
        %680 = OpLoad %float %distance2
        %681 = OpFAdd %float %679 %680
               OpStore %edgeThickness %681
        %683 = OpLoad %float %lumaCenter
        %684 = OpLoad %float %lumaLocalAverage
        %685 = OpFOrdLessThan %bool %683 %684
               OpStore %isLumaCenterSmaller %685
        %687 = OpLoad %float %lumaEnd1
        %688 = OpFOrdLessThan %bool %687 %float_0
        %689 = OpLoad %bool %isLumaCenterSmaller
        %690 = OpLogicalNotEqual %bool %688 %689
               OpStore %correctVariation1 %690
        %692 = OpLoad %float %lumaEnd2
        %693 = OpFOrdLessThan %bool %692 %float_0
        %694 = OpLoad %bool %isLumaCenterSmaller
        %695 = OpLogicalNotEqual %bool %693 %694
               OpStore %correctVariation2 %695
        %697 = OpLoad %bool %isDirection1
        %698 = OpLoad %bool %correctVariation1
        %699 = OpLoad %bool %correctVariation2
        %700 = OpSelect %bool %697 %698 %699
               OpStore %correctVariation %700
        %702 = OpLoad %float %distanceFinal
        %703 = OpFNegate %float %702
        %704 = OpLoad %float %edgeThickness
        %705 = OpFDiv %float %703 %704
        %706 = OpFAdd %float %705 %float_0_5
               OpStore %pixelOffset %706
        %708 = OpLoad %bool %correctVariation
        %709 = OpLoad %float %pixelOffset
        %710 = OpSelect %float %708 %709 %float_0
               OpStore %finalOffset %710
        %713 = OpLoad %float %lumaDownUp
        %714 = OpLoad %float %lumaLeftRight
        %715 = OpFAdd %float %713 %714
        %716 = OpFMul %float %float_2 %715
        %717 = OpLoad %float %lumaLeftCorners
        %718 = OpFAdd %float %716 %717
        %719 = OpLoad %float %lumaRightCorners
        %720 = OpFAdd %float %718 %719
        %721 = OpFMul %float %float_0_0833333358 %720
               OpStore %lumaAverage %721
        %723 = OpLoad %float %lumaAverage
        %724 = OpLoad %float %lumaCenter
        %725 = OpFSub %float %723 %724
        %726 = OpExtInst %float %1 FAbs %725
        %727 = OpLoad %float %lumaRange
        %728 = OpFDiv %float %726 %727
        %729 = OpExtInst %float %1 FClamp %728 %float_0 %float_1
               OpStore %subPixelOffset1 %729
        %731 = OpLoad %float %subPixelOffset1
        %732 = OpFMul %float %float_n2 %731
        %734 = OpFAdd %float %732 %float_3
        %735 = OpLoad %float %subPixelOffset1
        %736 = OpFMul %float %734 %735
        %737 = OpLoad %float %subPixelOffset1
        %738 = OpFMul %float %736 %737
               OpStore %subPixelOffset2 %738
        %740 = OpLoad %float %subPixelOffset2
        %741 = OpLoad %float %subPixelOffset2
        %742 = OpFMul %float %740 %741
        %743 = OpLoad %float %SUBPIXEL_QUALITY
        %744 = OpFMul %float %742 %743
               OpStore %subPixelOffsetFinal %744
        %745 = OpLoad %float %finalOffset
        %746 = OpLoad %float %subPixelOffsetFinal
        %747 = OpExtInst %float %1 FMax %745 %746
               OpStore %finalOffset %747
        %749 = OpLoad %v2float %inUV
               OpStore %finalUv %749
        %750 = OpLoad %bool %isHorizontal
               OpSelectionMerge %752 None
               OpBranchConditional %750 %751 %760
        %751 = OpLabel
        %753 = OpLoad %float %finalOffset
        %754 = OpLoad %float %stepLength
        %755 = OpFMul %float %753 %754
        %756 = OpAccessChain %_ptr_Function_float %finalUv %uint_1
        %757 = OpLoad %float %756
        %758 = OpFAdd %float %757 %755
        %759 = OpAccessChain %_ptr_Function_float %finalUv %uint_1
               OpStore %759 %758
               OpBranch %752
        %760 = OpLabel
        %761 = OpLoad %float %finalOffset
        %762 = OpLoad %float %stepLength
        %763 = OpFMul %float %761 %762
        %764 = OpAccessChain %_ptr_Function_float %finalUv %uint_0
        %765 = OpLoad %float %764
        %766 = OpFAdd %float %765 %763
        %767 = OpAccessChain %_ptr_Function_float %finalUv %uint_0
               OpStore %767 %766
               OpBranch %752
        %752 = OpLabel
        %769 = OpLoad %8 %screenTexture
        %770 = OpLoad %v2float %finalUv
        %771 = OpImageSampleImplicitLod %v4float %769 %770
        %772 = OpVectorShuffle %v3float %771 %771 0 1 2
               OpStore %finalColor %772
        %773 = OpLoad %v3float %finalColor
        %774 = OpCompositeExtract %float %773 0
        %775 = OpCompositeExtract %float %773 1
        %776 = OpCompositeExtract %float %773 2
        %777 = OpCompositeConstruct %v4float %774 %775 %776 %float_0
               OpReturnValue %777
               OpFunctionEnd
