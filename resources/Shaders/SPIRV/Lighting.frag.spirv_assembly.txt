; SPIR-V
; Version: 1.4
; Generator: Google Shaderc over Glslang; 10
; Bound: 1217
; Schema: 0
               OpCapability Shader
               OpCapability ImageQuery
          %1 = OpExtInstImport "GLSL.std.450"
               OpMemoryModel Logical GLSL450
               OpEntryPoint Fragment %main "main" %shadowMap %samplerIrradiance %prefilteredMap %samplerBRDFLUT %sceneState %dirLight %albedroMap %inUV %outColor %bloomState %positionsMap %normalsMap %materialsMap %_ %sceneData %__0 %__1
               OpExecutionMode %main OriginUpperLeft
               OpSource GLSL 460
               OpSourceExtension "GL_GOOGLE_cpp_style_line_directive"
               OpSourceExtension "GL_GOOGLE_include_directive"
               OpName %main "main"
               OpName %DistributionGGX_vf3_vf3_f1_ "DistributionGGX(vf3;vf3;f1;"
               OpName %N "N"
               OpName %H "H"
               OpName %a "a"
               OpName %GeometrySchlickGGX_f1_f1_ "GeometrySchlickGGX(f1;f1;"
               OpName %NdotV "NdotV"
               OpName %roughness "roughness"
               OpName %GeometrySmith_vf3_vf3_vf3_f1_ "GeometrySmith(vf3;vf3;vf3;f1;"
               OpName %N_0 "N"
               OpName %V "V"
               OpName %L "L"
               OpName %roughness_0 "roughness"
               OpName %fresnelSchlick_f1_vf3_ "fresnelSchlick(f1;vf3;"
               OpName %cosTheta "cosTheta"
               OpName %F0 "F0"
               OpName %textureProj_vf4_vf2_ "textureProj(vf4;vf2;"
               OpName %shadowCoord "shadowCoord"
               OpName %off "off"
               OpName %filterPCF_vf4_ "filterPCF(vf4;"
               OpName %sc "sc"
               OpName %FresnelSchlick_f1_vf3_ "FresnelSchlick(f1;vf3;"
               OpName %cosTheta_0 "cosTheta"
               OpName %baseReflectivity "baseReflectivity"
               OpName %CalcIBL_vf3_vf3_vf3_vf3_vf3_vf3_f1_f1_f1_f1_ "CalcIBL(vf3;vf3;vf3;vf3;vf3;vf3;f1;f1;f1;f1;"
               OpName %fragToView "fragToView"
               OpName %baseReflectivity_0 "baseReflectivity"
               OpName %reflectionVec "reflectionVec"
               OpName %normal "normal"
               OpName %albedo "albedo"
               OpName %ambient "ambient"
               OpName %metallic "metallic"
               OpName %unclampedRoughness "unclampedRoughness"
               OpName %roughness_1 "roughness"
               OpName %ao "ao"
               OpName %CalcDirLight_vf3_vf3_vf3_vf3_f1_f1_vf3_ "CalcDirLight(vf3;vf3;vf3;vf3;f1;f1;vf3;"
               OpName %V_0 "V"
               OpName %N_1 "N"
               OpName %F0_0 "F0"
               OpName %albedo_color "albedo_color"
               OpName %metallic_color "metallic_color"
               OpName %roughness_color "roughness_color"
               OpName %modelPos "modelPos"
               OpName %PointLight "PointLight"
               OpMemberName %PointLight 0 "position"
               OpMemberName %PointLight 1 "color"
               OpMemberName %PointLight 2 "intensity"
               OpMemberName %PointLight 3 "raduis"
               OpMemberName %PointLight 4 "bias"
               OpMemberName %PointLight 5 "is_active"
               OpName %CalcPointLight_struct_PointLight_vf4_vf4_f1_f1_f1_b11_vf3_vf3_vf3_vf3_f1_f1_vf3_ "CalcPointLight(struct-PointLight-vf4-vf4-f1-f1-f1-b11;vf3;vf3;vf3;vf3;f1;f1;vf3;"
               OpName %light "light"
               OpName %V_1 "V"
               OpName %N_2 "N"
               OpName %F0_1 "F0"
               OpName %albedo_color_0 "albedo_color"
               OpName %metallic_color_0 "metallic_color"
               OpName %roughness_color_0 "roughness_color"
               OpName %modelPos_0 "modelPos"
               OpName %SpotLight "SpotLight"
               OpMemberName %SpotLight 0 "position"
               OpMemberName %SpotLight 1 "direction"
               OpMemberName %SpotLight 2 "color"
               OpMemberName %SpotLight 3 "intensity"
               OpMemberName %SpotLight 4 "cutOff"
               OpMemberName %SpotLight 5 "outerCutOff"
               OpMemberName %SpotLight 6 "raduis"
               OpMemberName %SpotLight 7 "bias"
               OpMemberName %SpotLight 8 "is_active"
               OpName %CalcSpotLight_struct_SpotLight_vf4_vf4_vf4_f1_f1_f1_f1_f1_b11_vf3_vf3_vf3_vf3_f1_f1_vf3_ "CalcSpotLight(struct-SpotLight-vf4-vf4-vf4-f1-f1-f1-f1-f1-b11;vf3;vf3;vf3;vf3;f1;f1;vf3;"
               OpName %light_0 "light"
               OpName %V_2 "V"
               OpName %N_3 "N"
               OpName %F0_2 "F0"
               OpName %albedo_color_1 "albedo_color"
               OpName %metallic_color_1 "metallic_color"
               OpName %roughness_color_1 "roughness_color"
               OpName %modelPos_1 "modelPos"
               OpName %ACESTonemap_vf3_ "ACESTonemap(vf3;"
               OpName %color "color"
               OpName %a2 "a2"
               OpName %NdotH "NdotH"
               OpName %NdotH2 "NdotH2"
               OpName %nom "nom"
               OpName %denom "denom"
               OpName %r "r"
               OpName %k "k"
               OpName %nom_0 "nom"
               OpName %denom_0 "denom"
               OpName %NdotV_0 "NdotV"
               OpName %NdotL "NdotL"
               OpName %ggx2 "ggx2"
               OpName %param "param"
               OpName %param_0 "param"
               OpName %ggx1 "ggx1"
               OpName %param_1 "param"
               OpName %param_2 "param"
               OpName %shadow "shadow"
               OpName %dist "dist"
               OpName %shadowMap "shadowMap"
               OpName %texDim "texDim"
               OpName %scale "scale"
               OpName %dx "dx"
               OpName %dy "dy"
               OpName %shadowFactor "shadowFactor"
               OpName %count "count"
               OpName %range "range"
               OpName %x "x"
               OpName %y "y"
               OpName %param_3 "param"
               OpName %param_4 "param"
               OpName %specularRatio "specularRatio"
               OpName %param_5 "param"
               OpName %param_6 "param"
               OpName %diffuseRatio "diffuseRatio"
               OpName %indirectDiffuse "indirectDiffuse"
               OpName %samplerIrradiance "samplerIrradiance"
               OpName %specularTextureLevels "specularTextureLevels"
               OpName %prefilteredMap "prefilteredMap"
               OpName %prefilterColour "prefilterColour"
               OpName %brdfIntegration "brdfIntegration"
               OpName %samplerBRDFLUT "samplerBRDFLUT"
               OpName %indirectSpecular "indirectSpecular"
               OpName %result "result"
               OpName %LightingProperties "LightingProperties"
               OpMemberName %LightingProperties 0 "ambientColor"
               OpMemberName %LightingProperties 1 "iblScale"
               OpMemberName %LightingProperties 2 "is_active"
               OpName %sceneState "sceneState"
               OpName %L_0 "L"
               OpName %DirLightBuffer "DirLightBuffer"
               OpMemberName %DirLightBuffer 0 "direction"
               OpMemberName %DirLightBuffer 1 "color"
               OpMemberName %DirLightBuffer 2 "intensity"
               OpMemberName %DirLightBuffer 3 "bias"
               OpMemberName %DirLightBuffer 4 "zNear"
               OpMemberName %DirLightBuffer 5 "zFar"
               OpMemberName %DirLightBuffer 6 "lightFOV"
               OpMemberName %DirLightBuffer 7 "is_active"
               OpMemberName %DirLightBuffer 8 "is_cast_shadows"
               OpMemberName %DirLightBuffer 9 "is_use_soft_shadows"
               OpName %dirLight "dirLight"
               OpName %H_0 "H"
               OpName %NdotL_0 "NdotL"
               OpName %NDF "NDF"
               OpName %param_7 "param"
               OpName %param_8 "param"
               OpName %param_9 "param"
               OpName %G "G"
               OpName %param_10 "param"
               OpName %param_11 "param"
               OpName %param_12 "param"
               OpName %param_13 "param"
               OpName %F "F"
               OpName %param_14 "param"
               OpName %param_15 "param"
               OpName %kd "kd"
               OpName %diffuseBRDF "diffuseBRDF"
               OpName %specularBRDF "specularBRDF"
               OpName %rad "rad"
               OpName %distance "distance"
               OpName %L_1 "L"
               OpName %H_1 "H"
               OpName %NdotL_1 "NdotL"
               OpName %attenuation "attenuation"
               OpName %radiance "radiance"
               OpName %NDF_0 "NDF"
               OpName %param_16 "param"
               OpName %param_17 "param"
               OpName %param_18 "param"
               OpName %G_0 "G"
               OpName %param_19 "param"
               OpName %param_20 "param"
               OpName %param_21 "param"
               OpName %param_22 "param"
               OpName %F_0 "F"
               OpName %param_23 "param"
               OpName %param_24 "param"
               OpName %kd_0 "kd"
               OpName %diffuseBRDF_0 "diffuseBRDF"
               OpName %specularBRDF_0 "specularBRDF"
               OpName %distance_0 "distance"
               OpName %L_2 "L"
               OpName %theta "theta"
               OpName %epsilon "epsilon"
               OpName %intensitys "intensitys"
               OpName %H_2 "H"
               OpName %NdotL_2 "NdotL"
               OpName %attenuation_0 "attenuation"
               OpName %radiance_0 "radiance"
               OpName %NDF_1 "NDF"
               OpName %param_25 "param"
               OpName %param_26 "param"
               OpName %param_27 "param"
               OpName %G_1 "G"
               OpName %param_28 "param"
               OpName %param_29 "param"
               OpName %param_30 "param"
               OpName %param_31 "param"
               OpName %F_1 "F"
               OpName %param_32 "param"
               OpName %param_33 "param"
               OpName %kd_1 "kd"
               OpName %diffuseBRDF_1 "diffuseBRDF"
               OpName %specularBRDF_1 "specularBRDF"
               OpName %m1 "m1"
               OpName %m2 "m2"
               OpName %v "v"
               OpName %a_0 "a"
               OpName %b "b"
               OpName %texColor "texColor"
               OpName %albedroMap "albedroMap"
               OpName %inUV "inUV"
               OpName %outColor "outColor"
               OpName %BloomProperties "BloomProperties"
               OpMemberName %BloomProperties 0 "Threshold"
               OpMemberName %BloomProperties 1 "Knee"
               OpMemberName %BloomProperties 2 "UpsampleScale"
               OpMemberName %BloomProperties 3 "Intensity"
               OpMemberName %BloomProperties 4 "DirtIntensity"
               OpMemberName %BloomProperties 5 "Exposure"
               OpMemberName %BloomProperties 6 "SkyboxMod"
               OpMemberName %BloomProperties 7 "Enabled"
               OpName %bloomState "bloomState"
               OpName %albedo_0 "albedo"
               OpName %position "position"
               OpName %positionsMap "positionsMap"
               OpName %normals "normals"
               OpName %normalsMap "normalsMap"
               OpName %materials "materials"
               OpName %materialsMap "materialsMap"
               OpName %shadowCoord_0 "shadowCoord"
               OpName %ConstantData "ConstantData"
               OpMemberName %ConstantData 0 "lightSpace"
               OpMemberName %ConstantData 1 "numPointsLights"
               OpMemberName %ConstantData 2 "numSpotLights"
               OpName %_ ""
               OpName %ao_0 "ao"
               OpName %metallic_0 "metallic"
               OpName %unclampedRoughness_0 "unclampedRoughness"
               OpName %roughness_2 "roughness"
               OpName %emission "emission"
               OpName %V_3 "V"
               OpName %SceneBuffer "SceneBuffer"
               OpMemberName %SceneBuffer 0 "projection"
               OpMemberName %SceneBuffer 1 "view"
               OpMemberName %SceneBuffer 2 "camPos"
               OpMemberName %SceneBuffer 3 "nearClip"
               OpMemberName %SceneBuffer 4 "farClip"
               OpMemberName %SceneBuffer 5 "pad1"
               OpMemberName %SceneBuffer 6 "skyBoxMatrix"
               OpName %sceneData "sceneData"
               OpName %F0_3 "F0"
               OpName %ambient_0 "ambient"
               OpName %reflectionVec_0 "reflectionVec"
               OpName %param_34 "param"
               OpName %param_35 "param"
               OpName %param_36 "param"
               OpName %param_37 "param"
               OpName %param_38 "param"
               OpName %param_39 "param"
               OpName %param_40 "param"
               OpName %param_41 "param"
               OpName %param_42 "param"
               OpName %param_43 "param"
               OpName %Lo "Lo"
               OpName %param_44 "param"
               OpName %param_45 "param"
               OpName %param_46 "param"
               OpName %param_47 "param"
               OpName %param_48 "param"
               OpName %param_49 "param"
               OpName %param_50 "param"
               OpName %i "i"
               OpName %PointLight_0 "PointLight"
               OpMemberName %PointLight_0 0 "position"
               OpMemberName %PointLight_0 1 "color"
               OpMemberName %PointLight_0 2 "intensity"
               OpMemberName %PointLight_0 3 "raduis"
               OpMemberName %PointLight_0 4 "bias"
               OpMemberName %PointLight_0 5 "is_active"
               OpName %PointLightBuffer "PointLightBuffer"
               OpMemberName %PointLightBuffer 0 "pointLights"
               OpName %__0 ""
               OpName %param_51 "param"
               OpName %param_52 "param"
               OpName %param_53 "param"
               OpName %param_54 "param"
               OpName %param_55 "param"
               OpName %param_56 "param"
               OpName %param_57 "param"
               OpName %param_58 "param"
               OpName %i_0 "i"
               OpName %SpotLight_0 "SpotLight"
               OpMemberName %SpotLight_0 0 "position"
               OpMemberName %SpotLight_0 1 "direction"
               OpMemberName %SpotLight_0 2 "color"
               OpMemberName %SpotLight_0 3 "intensity"
               OpMemberName %SpotLight_0 4 "cutOff"
               OpMemberName %SpotLight_0 5 "outerCutOff"
               OpMemberName %SpotLight_0 6 "raduis"
               OpMemberName %SpotLight_0 7 "bias"
               OpMemberName %SpotLight_0 8 "is_active"
               OpName %SpotLightBuffer "SpotLightBuffer"
               OpMemberName %SpotLightBuffer 0 "spotLights"
               OpName %__1 ""
               OpName %param_59 "param"
               OpName %param_60 "param"
               OpName %param_61 "param"
               OpName %param_62 "param"
               OpName %param_63 "param"
               OpName %param_64 "param"
               OpName %param_65 "param"
               OpName %param_66 "param"
               OpName %color_0 "color"
               OpName %shadow_0 "shadow"
               OpName %param_67 "param"
               OpName %texDim_0 "texDim"
               OpName %param_68 "param"
               OpName %param_69 "param"
               OpName %param_70 "param"
               OpDecorate %shadowMap DescriptorSet 0
               OpDecorate %shadowMap Binding 1
               OpDecorate %samplerIrradiance DescriptorSet 0
               OpDecorate %samplerIrradiance Binding 2
               OpDecorate %prefilteredMap DescriptorSet 0
               OpDecorate %prefilteredMap Binding 4
               OpDecorate %samplerBRDFLUT DescriptorSet 0
               OpDecorate %samplerBRDFLUT Binding 3
               OpMemberDecorate %LightingProperties 0 Offset 0
               OpMemberDecorate %LightingProperties 1 Offset 16
               OpMemberDecorate %LightingProperties 2 Offset 20
               OpDecorate %LightingProperties Block
               OpDecorate %sceneState DescriptorSet 0
               OpDecorate %sceneState Binding 33
               OpMemberDecorate %DirLightBuffer 0 Offset 0
               OpMemberDecorate %DirLightBuffer 1 Offset 16
               OpMemberDecorate %DirLightBuffer 2 Offset 32
               OpMemberDecorate %DirLightBuffer 3 Offset 36
               OpMemberDecorate %DirLightBuffer 4 Offset 40
               OpMemberDecorate %DirLightBuffer 5 Offset 44
               OpMemberDecorate %DirLightBuffer 6 Offset 48
               OpMemberDecorate %DirLightBuffer 7 Offset 52
               OpMemberDecorate %DirLightBuffer 8 Offset 56
               OpMemberDecorate %DirLightBuffer 9 Offset 60
               OpDecorate %DirLightBuffer Block
               OpDecorate %dirLight DescriptorSet 0
               OpDecorate %dirLight Binding 32
               OpDecorate %albedroMap DescriptorSet 0
               OpDecorate %albedroMap Binding 5
               OpDecorate %inUV Location 0
               OpDecorate %outColor Location 0
               OpMemberDecorate %BloomProperties 0 Offset 0
               OpMemberDecorate %BloomProperties 1 Offset 4
               OpMemberDecorate %BloomProperties 2 Offset 8
               OpMemberDecorate %BloomProperties 3 Offset 12
               OpMemberDecorate %BloomProperties 4 Offset 16
               OpMemberDecorate %BloomProperties 5 Offset 20
               OpMemberDecorate %BloomProperties 6 Offset 24
               OpMemberDecorate %BloomProperties 7 Offset 28
               OpDecorate %BloomProperties Block
               OpDecorate %bloomState DescriptorSet 0
               OpDecorate %bloomState Binding 34
               OpDecorate %positionsMap DescriptorSet 0
               OpDecorate %positionsMap Binding 6
               OpDecorate %normalsMap DescriptorSet 0
               OpDecorate %normalsMap Binding 7
               OpDecorate %materialsMap DescriptorSet 0
               OpDecorate %materialsMap Binding 8
               OpMemberDecorate %ConstantData 0 ColMajor
               OpMemberDecorate %ConstantData 0 Offset 0
               OpMemberDecorate %ConstantData 0 MatrixStride 16
               OpMemberDecorate %ConstantData 1 Offset 64
               OpMemberDecorate %ConstantData 2 Offset 68
               OpDecorate %ConstantData Block
               OpMemberDecorate %SceneBuffer 0 ColMajor
               OpMemberDecorate %SceneBuffer 0 Offset 0
               OpMemberDecorate %SceneBuffer 0 MatrixStride 16
               OpMemberDecorate %SceneBuffer 1 ColMajor
               OpMemberDecorate %SceneBuffer 1 Offset 64
               OpMemberDecorate %SceneBuffer 1 MatrixStride 16
               OpMemberDecorate %SceneBuffer 2 Offset 128
               OpMemberDecorate %SceneBuffer 3 Offset 144
               OpMemberDecorate %SceneBuffer 4 Offset 148
               OpMemberDecorate %SceneBuffer 5 Offset 152
               OpMemberDecorate %SceneBuffer 6 ColMajor
               OpMemberDecorate %SceneBuffer 6 Offset 160
               OpMemberDecorate %SceneBuffer 6 MatrixStride 16
               OpDecorate %SceneBuffer Block
               OpDecorate %sceneData DescriptorSet 0
               OpDecorate %sceneData Binding 27
               OpMemberDecorate %PointLight_0 0 Offset 0
               OpMemberDecorate %PointLight_0 1 Offset 16
               OpMemberDecorate %PointLight_0 2 Offset 32
               OpMemberDecorate %PointLight_0 3 Offset 36
               OpMemberDecorate %PointLight_0 4 Offset 40
               OpMemberDecorate %PointLight_0 5 Offset 44
               OpDecorate %_runtimearr_PointLight_0 ArrayStride 48
               OpMemberDecorate %PointLightBuffer 0 NonWritable
               OpMemberDecorate %PointLightBuffer 0 Offset 0
               OpDecorate %PointLightBuffer Block
               OpDecorate %__0 DescriptorSet 0
               OpDecorate %__0 Binding 30
               OpMemberDecorate %SpotLight_0 0 Offset 0
               OpMemberDecorate %SpotLight_0 1 Offset 16
               OpMemberDecorate %SpotLight_0 2 Offset 32
               OpMemberDecorate %SpotLight_0 3 Offset 48
               OpMemberDecorate %SpotLight_0 4 Offset 52
               OpMemberDecorate %SpotLight_0 5 Offset 56
               OpMemberDecorate %SpotLight_0 6 Offset 60
               OpMemberDecorate %SpotLight_0 7 Offset 64
               OpMemberDecorate %SpotLight_0 8 Offset 68
               OpDecorate %_runtimearr_SpotLight_0 ArrayStride 80
               OpMemberDecorate %SpotLightBuffer 0 NonWritable
               OpMemberDecorate %SpotLightBuffer 0 Offset 0
               OpDecorate %SpotLightBuffer Block
               OpDecorate %__1 DescriptorSet 0
               OpDecorate %__1 Binding 31
       %void = OpTypeVoid
          %3 = OpTypeFunction %void
      %float = OpTypeFloat 32
    %v3float = OpTypeVector %float 3
%_ptr_Function_v3float = OpTypePointer Function %v3float
%_ptr_Function_float = OpTypePointer Function %float
         %10 = OpTypeFunction %float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_float
         %16 = OpTypeFunction %float %_ptr_Function_float %_ptr_Function_float
         %21 = OpTypeFunction %float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_float
         %28 = OpTypeFunction %v3float %_ptr_Function_float %_ptr_Function_v3float
    %v4float = OpTypeVector %float 4
%_ptr_Function_v4float = OpTypePointer Function %v4float
    %v2float = OpTypeVector %float 2
%_ptr_Function_v2float = OpTypePointer Function %v2float
         %37 = OpTypeFunction %float %_ptr_Function_v4float %_ptr_Function_v2float
         %42 = OpTypeFunction %float %_ptr_Function_v4float
         %50 = OpTypeFunction %v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_float %_ptr_Function_float %_ptr_Function_float %_ptr_Function_float
         %63 = OpTypeFunction %v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_float %_ptr_Function_float %_ptr_Function_v3float
       %bool = OpTypeBool
 %PointLight = OpTypeStruct %v4float %v4float %float %float %float %bool
%_ptr_Function_PointLight = OpTypePointer Function %PointLight
         %76 = OpTypeFunction %v3float %_ptr_Function_PointLight %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_float %_ptr_Function_float %_ptr_Function_v3float
  %SpotLight = OpTypeStruct %v4float %v4float %v4float %float %float %float %float %float %bool
%_ptr_Function_SpotLight = OpTypePointer Function %SpotLight
         %89 = OpTypeFunction %v3float %_ptr_Function_SpotLight %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_v3float %_ptr_Function_float %_ptr_Function_float %_ptr_Function_v3float
        %100 = OpTypeFunction %v3float %_ptr_Function_v3float
    %float_0 = OpConstant %float 0
    %float_1 = OpConstant %float 1
%float_3_14159274 = OpConstant %float 3.14159274
    %float_8 = OpConstant %float 8
    %float_5 = OpConstant %float 5
       %uint = OpTypeInt 32 0
     %uint_2 = OpConstant %uint 2
   %float_n1 = OpConstant %float -1
        %215 = OpTypeImage %float 2D 0 0 0 1 Unknown
        %216 = OpTypeSampledImage %215
%_ptr_UniformConstant_216 = OpTypePointer UniformConstant %216
  %shadowMap = OpVariable %_ptr_UniformConstant_216 UniformConstant
     %uint_0 = OpConstant %uint 0
     %uint_3 = OpConstant %uint 3
%float_0_100000001 = OpConstant %float 0.100000001
        %int = OpTypeInt 32 1
      %v2int = OpTypeVector %int 2
%_ptr_Function_v2int = OpTypePointer Function %v2int
      %int_0 = OpConstant %int 0
  %float_1_5 = OpConstant %float 1.5
%_ptr_Function_int = OpTypePointer Function %int
     %uint_1 = OpConstant %uint 1
      %int_1 = OpConstant %int 1
    %float_2 = OpConstant %float 2
%float_n5_55472994 = OpConstant %float -5.55472994
%float_6_98316002 = OpConstant %float 6.98316002
        %352 = OpConstantComposite %v3float %float_1 %float_1 %float_1
        %360 = OpTypeImage %float Cube 0 0 0 1 Unknown
        %361 = OpTypeSampledImage %360
%_ptr_UniformConstant_361 = OpTypePointer UniformConstant %361
%samplerIrradiance = OpVariable %_ptr_UniformConstant_361 UniformConstant
%prefilteredMap = OpVariable %_ptr_UniformConstant_361 UniformConstant
%samplerBRDFLUT = OpVariable %_ptr_UniformConstant_216 UniformConstant
%LightingProperties = OpTypeStruct %v4float %float %uint
%_ptr_Uniform_LightingProperties = OpTypePointer Uniform %LightingProperties
 %sceneState = OpVariable %_ptr_Uniform_LightingProperties Uniform
%_ptr_Uniform_v4float = OpTypePointer Uniform %v4float
%DirLightBuffer = OpTypeStruct %v4float %v4float %float %float %float %float %float %uint %uint %uint
%_ptr_Uniform_DirLightBuffer = OpTypePointer Uniform %DirLightBuffer
   %dirLight = OpVariable %_ptr_Uniform_DirLightBuffer Uniform
        %483 = OpConstantComposite %v3float %float_0 %float_0 %float_0
%float_9_99999975en06 = OpConstant %float 9.99999975e-06
    %float_4 = OpConstant %float 4
      %int_2 = OpConstant %int 2
%_ptr_Uniform_float = OpTypePointer Uniform %float
      %int_3 = OpConstant %int 3
%float_0_800000012 = OpConstant %float 0.800000012
      %int_6 = OpConstant %int 6
      %int_5 = OpConstant %int 5
      %int_4 = OpConstant %int 4
%mat3v3float = OpTypeMatrix %v3float 3
%_ptr_Function_mat3v3float = OpTypePointer Function %mat3v3float
%float_0_597190022 = OpConstant %float 0.597190022
%float_0_0759999976 = OpConstant %float 0.0759999976
%float_0_0284000002 = OpConstant %float 0.0284000002
        %799 = OpConstantComposite %v3float %float_0_597190022 %float_0_0759999976 %float_0_0284000002
%float_0_354579985 = OpConstant %float 0.354579985
%float_0_908339977 = OpConstant %float 0.908339977
%float_0_133829996 = OpConstant %float 0.133829996
        %803 = OpConstantComposite %v3float %float_0_354579985 %float_0_908339977 %float_0_133829996
%float_0_0482299998 = OpConstant %float 0.0482299998
%float_0_0156599991 = OpConstant %float 0.0156599991
%float_0_837769985 = OpConstant %float 0.837769985
        %807 = OpConstantComposite %v3float %float_0_0482299998 %float_0_0156599991 %float_0_837769985
        %808 = OpConstantComposite %mat3v3float %799 %803 %807
%float_1_60475004 = OpConstant %float 1.60475004
%float_n0_102080002 = OpConstant %float -0.102080002
%float_n0_00326999999 = OpConstant %float -0.00326999999
        %813 = OpConstantComposite %v3float %float_1_60475004 %float_n0_102080002 %float_n0_00326999999
%float_n0_531080008 = OpConstant %float -0.531080008
%float_1_10812998 = OpConstant %float 1.10812998
%float_n0_0727600008 = OpConstant %float -0.0727600008
        %817 = OpConstantComposite %v3float %float_n0_531080008 %float_1_10812998 %float_n0_0727600008
%float_n0_0736699998 = OpConstant %float -0.0736699998
%float_n0_00604999997 = OpConstant %float -0.00604999997
%float_1_07602 = OpConstant %float 1.07602
        %821 = OpConstantComposite %v3float %float_n0_0736699998 %float_n0_00604999997 %float_1_07602
        %822 = OpConstantComposite %mat3v3float %813 %817 %821
%float_0_0245785993 = OpConstant %float 0.0245785993
%float_9_05370034en05 = OpConstant %float 9.05370034e-05
%float_0_983729005 = OpConstant %float 0.983729005
%float_0_432951003 = OpConstant %float 0.432951003
%float_0_238080993 = OpConstant %float 0.238080993
 %albedroMap = OpVariable %_ptr_UniformConstant_216 UniformConstant
%_ptr_Input_v2float = OpTypePointer Input %v2float
       %inUV = OpVariable %_ptr_Input_v2float Input
%_ptr_Output_v4float = OpTypePointer Output %v4float
   %outColor = OpVariable %_ptr_Output_v4float Output
%BloomProperties = OpTypeStruct %float %float %float %float %float %float %float %uint
%_ptr_Uniform_BloomProperties = OpTypePointer Uniform %BloomProperties
 %bloomState = OpVariable %_ptr_Uniform_BloomProperties Uniform
      %int_7 = OpConstant %int 7
%_ptr_Uniform_uint = OpTypePointer Uniform %uint
%positionsMap = OpVariable %_ptr_UniformConstant_216 UniformConstant
 %normalsMap = OpVariable %_ptr_UniformConstant_216 UniformConstant
%materialsMap = OpVariable %_ptr_UniformConstant_216 UniformConstant
%mat4v4float = OpTypeMatrix %v4float 4
  %float_0_5 = OpConstant %float 0.5
        %919 = OpConstantComposite %v4float %float_0_5 %float_0 %float_0 %float_0
 %float_n0_5 = OpConstant %float -0.5
        %921 = OpConstantComposite %v4float %float_0 %float_n0_5 %float_0 %float_0
        %922 = OpConstantComposite %v4float %float_0 %float_0 %float_1 %float_0
        %923 = OpConstantComposite %v4float %float_0_5 %float_0_5 %float_0 %float_1
        %924 = OpConstantComposite %mat4v4float %919 %921 %922 %923
%ConstantData = OpTypeStruct %mat4v4float %uint %uint
%_ptr_PushConstant_ConstantData = OpTypePointer PushConstant %ConstantData
          %_ = OpVariable %_ptr_PushConstant_ConstantData PushConstant
%_ptr_PushConstant_mat4v4float = OpTypePointer PushConstant %mat4v4float
%float_0_0399999991 = OpConstant %float 0.0399999991
%float_2_20000005 = OpConstant %float 2.20000005
        %958 = OpConstantComposite %v3float %float_2_20000005 %float_2_20000005 %float_2_20000005
%SceneBuffer = OpTypeStruct %mat4v4float %mat4v4float %v4float %float %float %v2float %mat4v4float
%_ptr_Uniform_SceneBuffer = OpTypePointer Uniform %SceneBuffer
  %sceneData = OpVariable %_ptr_Uniform_SceneBuffer Uniform
        %972 = OpConstantComposite %v3float %float_0_0399999991 %float_0_0399999991 %float_0_0399999991
       %true = OpConstantTrue %bool
%_ptr_PushConstant_uint = OpTypePointer PushConstant %uint
%PointLight_0 = OpTypeStruct %v4float %v4float %float %float %float %uint
%_runtimearr_PointLight_0 = OpTypeRuntimeArray %PointLight_0
%PointLightBuffer = OpTypeStruct %_runtimearr_PointLight_0
%_ptr_StorageBuffer_PointLightBuffer = OpTypePointer StorageBuffer %PointLightBuffer
        %__0 = OpVariable %_ptr_StorageBuffer_PointLightBuffer StorageBuffer
%_ptr_StorageBuffer_PointLight_0 = OpTypePointer StorageBuffer %PointLight_0
%_ptr_Function_bool = OpTypePointer Function %bool
%SpotLight_0 = OpTypeStruct %v4float %v4float %v4float %float %float %float %float %float %uint
%_runtimearr_SpotLight_0 = OpTypeRuntimeArray %SpotLight_0
%SpotLightBuffer = OpTypeStruct %_runtimearr_SpotLight_0
%_ptr_StorageBuffer_SpotLightBuffer = OpTypePointer StorageBuffer %SpotLightBuffer
        %__1 = OpVariable %_ptr_StorageBuffer_SpotLightBuffer StorageBuffer
%_ptr_StorageBuffer_SpotLight_0 = OpTypePointer StorageBuffer %SpotLight_0
      %int_8 = OpConstant %int 8
      %int_9 = OpConstant %int 9
       %main = OpFunction %void None %3
          %5 = OpLabel
   %texColor = OpVariable %_ptr_Function_v4float Function
        %881 = OpVariable %_ptr_Function_v3float Function
   %albedo_0 = OpVariable %_ptr_Function_v3float Function
   %position = OpVariable %_ptr_Function_v4float Function
    %normals = OpVariable %_ptr_Function_v4float Function
  %materials = OpVariable %_ptr_Function_v4float Function
%shadowCoord_0 = OpVariable %_ptr_Function_v4float Function
       %ao_0 = OpVariable %_ptr_Function_v3float Function
 %metallic_0 = OpVariable %_ptr_Function_float Function
%unclampedRoughness_0 = OpVariable %_ptr_Function_float Function
%roughness_2 = OpVariable %_ptr_Function_float Function
   %emission = OpVariable %_ptr_Function_float Function
        %V_3 = OpVariable %_ptr_Function_v3float Function
       %F0_3 = OpVariable %_ptr_Function_v3float Function
  %ambient_0 = OpVariable %_ptr_Function_v3float Function
%reflectionVec_0 = OpVariable %_ptr_Function_v3float Function
   %param_34 = OpVariable %_ptr_Function_v3float Function
   %param_35 = OpVariable %_ptr_Function_v3float Function
   %param_36 = OpVariable %_ptr_Function_v3float Function
   %param_37 = OpVariable %_ptr_Function_v3float Function
   %param_38 = OpVariable %_ptr_Function_v3float Function
   %param_39 = OpVariable %_ptr_Function_v3float Function
   %param_40 = OpVariable %_ptr_Function_float Function
   %param_41 = OpVariable %_ptr_Function_float Function
   %param_42 = OpVariable %_ptr_Function_float Function
   %param_43 = OpVariable %_ptr_Function_float Function
         %Lo = OpVariable %_ptr_Function_v3float Function
   %param_44 = OpVariable %_ptr_Function_v3float Function
   %param_45 = OpVariable %_ptr_Function_v3float Function
   %param_46 = OpVariable %_ptr_Function_v3float Function
   %param_47 = OpVariable %_ptr_Function_v3float Function
   %param_48 = OpVariable %_ptr_Function_float Function
   %param_49 = OpVariable %_ptr_Function_float Function
   %param_50 = OpVariable %_ptr_Function_v3float Function
          %i = OpVariable %_ptr_Function_int Function
   %param_51 = OpVariable %_ptr_Function_PointLight Function
   %param_52 = OpVariable %_ptr_Function_v3float Function
   %param_53 = OpVariable %_ptr_Function_v3float Function
   %param_54 = OpVariable %_ptr_Function_v3float Function
   %param_55 = OpVariable %_ptr_Function_v3float Function
   %param_56 = OpVariable %_ptr_Function_float Function
   %param_57 = OpVariable %_ptr_Function_float Function
   %param_58 = OpVariable %_ptr_Function_v3float Function
        %i_0 = OpVariable %_ptr_Function_int Function
   %param_59 = OpVariable %_ptr_Function_SpotLight Function
   %param_60 = OpVariable %_ptr_Function_v3float Function
   %param_61 = OpVariable %_ptr_Function_v3float Function
   %param_62 = OpVariable %_ptr_Function_v3float Function
   %param_63 = OpVariable %_ptr_Function_v3float Function
   %param_64 = OpVariable %_ptr_Function_float Function
   %param_65 = OpVariable %_ptr_Function_float Function
   %param_66 = OpVariable %_ptr_Function_v3float Function
    %color_0 = OpVariable %_ptr_Function_v3float Function
   %shadow_0 = OpVariable %_ptr_Function_float Function
   %param_67 = OpVariable %_ptr_Function_v4float Function
   %texDim_0 = OpVariable %_ptr_Function_v2int Function
   %param_68 = OpVariable %_ptr_Function_v4float Function
   %param_69 = OpVariable %_ptr_Function_v2float Function
   %param_70 = OpVariable %_ptr_Function_v3float Function
        %861 = OpLoad %216 %albedroMap
        %864 = OpLoad %v2float %inUV
        %865 = OpImageSampleImplicitLod %v4float %861 %864
               OpStore %texColor %865
        %866 = OpAccessChain %_ptr_Function_float %texColor %uint_3
        %867 = OpLoad %float %866
        %868 = OpFOrdEqual %bool %867 %float_0
               OpSelectionMerge %870 None
               OpBranchConditional %868 %869 %870
        %869 = OpLabel
        %878 = OpAccessChain %_ptr_Uniform_uint %bloomState %int_7
        %879 = OpLoad %uint %878
        %880 = OpINotEqual %bool %879 %uint_0
               OpSelectionMerge %883 None
               OpBranchConditional %880 %882 %889
        %882 = OpLabel
        %884 = OpLoad %v4float %texColor
        %885 = OpVectorShuffle %v3float %884 %884 0 1 2
        %886 = OpAccessChain %_ptr_Uniform_float %bloomState %int_6
        %887 = OpLoad %float %886
        %888 = OpVectorTimesScalar %v3float %885 %887
               OpStore %881 %888
               OpBranch %883
        %889 = OpLabel
        %890 = OpLoad %v4float %texColor
        %891 = OpVectorShuffle %v3float %890 %890 0 1 2
               OpStore %881 %891
               OpBranch %883
        %883 = OpLabel
        %892 = OpLoad %v3float %881
        %893 = OpCompositeExtract %float %892 0
        %894 = OpCompositeExtract %float %892 1
        %895 = OpCompositeExtract %float %892 2
        %896 = OpCompositeConstruct %v4float %893 %894 %895 %float_1
               OpStore %outColor %896
               OpReturn
        %870 = OpLabel
        %899 = OpLoad %v4float %texColor
        %900 = OpVectorShuffle %v3float %899 %899 0 1 2
               OpStore %albedo_0 %900
        %903 = OpLoad %216 %positionsMap
        %904 = OpLoad %v2float %inUV
        %905 = OpImageSampleImplicitLod %v4float %903 %904
               OpStore %position %905
        %908 = OpLoad %216 %normalsMap
        %909 = OpLoad %v2float %inUV
        %910 = OpImageSampleImplicitLod %v4float %908 %909
               OpStore %normals %910
        %913 = OpLoad %216 %materialsMap
        %914 = OpLoad %v2float %inUV
        %915 = OpImageSampleImplicitLod %v4float %913 %914
               OpStore %materials %915
        %929 = OpAccessChain %_ptr_PushConstant_mat4v4float %_ %int_0
        %930 = OpLoad %mat4v4float %929
        %931 = OpMatrixTimesMatrix %mat4v4float %924 %930
        %932 = OpLoad %v4float %position
        %933 = OpVectorShuffle %v3float %932 %932 0 1 2
        %934 = OpCompositeExtract %float %933 0
        %935 = OpCompositeExtract %float %933 1
        %936 = OpCompositeExtract %float %933 2
        %937 = OpCompositeConstruct %v4float %934 %935 %936 %float_1
        %938 = OpMatrixTimesVector %v4float %931 %937
               OpStore %shadowCoord_0 %938
        %940 = OpAccessChain %_ptr_Function_float %materials %uint_2
        %941 = OpLoad %float %940
        %942 = OpCompositeConstruct %v3float %941 %941 %941
               OpStore %ao_0 %942
        %944 = OpAccessChain %_ptr_Function_float %materials %uint_0
        %945 = OpLoad %float %944
               OpStore %metallic_0 %945
        %947 = OpAccessChain %_ptr_Function_float %materials %uint_1
        %948 = OpLoad %float %947
               OpStore %unclampedRoughness_0 %948
        %950 = OpLoad %float %unclampedRoughness_0
        %952 = OpExtInst %float %1 FMax %950 %float_0_0399999991
               OpStore %roughness_2 %952
        %954 = OpAccessChain %_ptr_Function_float %materials %uint_3
        %955 = OpLoad %float %954
               OpStore %emission %955
        %956 = OpLoad %v3float %albedo_0
        %959 = OpExtInst %v3float %1 Pow %956 %958
               OpStore %albedo_0 %959
        %964 = OpAccessChain %_ptr_Uniform_v4float %sceneData %int_2
        %965 = OpLoad %v4float %964
        %966 = OpVectorShuffle %v3float %965 %965 0 1 2
        %967 = OpLoad %v4float %position
        %968 = OpVectorShuffle %v3float %967 %967 0 1 2
        %969 = OpFSub %v3float %966 %968
        %970 = OpExtInst %v3float %1 Normalize %969
               OpStore %V_3 %970
               OpStore %F0_3 %972
        %973 = OpLoad %v3float %F0_3
        %974 = OpLoad %v3float %albedo_0
        %975 = OpLoad %float %metallic_0
        %976 = OpCompositeConstruct %v3float %975 %975 %975
        %977 = OpExtInst %v3float %1 FMix %973 %974 %976
               OpStore %F0_3 %977
               OpStore %ambient_0 %483
        %979 = OpAccessChain %_ptr_Uniform_uint %sceneState %int_2
        %980 = OpLoad %uint %979
        %981 = OpINotEqual %bool %980 %uint_0
        %983 = OpLogicalEqual %bool %981 %true
               OpSelectionMerge %985 None
               OpBranchConditional %983 %984 %985
        %984 = OpLabel
        %987 = OpLoad %v3float %V_3
        %988 = OpFNegate %v3float %987
        %989 = OpLoad %v4float %normals
        %990 = OpVectorShuffle %v3float %989 %989 0 1 2
        %991 = OpExtInst %v3float %1 Reflect %988 %990
               OpStore %reflectionVec_0 %991
        %993 = OpLoad %v3float %V_3
               OpStore %param_34 %993
        %995 = OpLoad %v3float %F0_3
               OpStore %param_35 %995
        %997 = OpLoad %v3float %reflectionVec_0
               OpStore %param_36 %997
        %999 = OpLoad %v4float %normals
       %1000 = OpVectorShuffle %v3float %999 %999 0 1 2
               OpStore %param_37 %1000
       %1002 = OpLoad %v3float %albedo_0
               OpStore %param_38 %1002
       %1004 = OpLoad %v3float %ambient_0
               OpStore %param_39 %1004
       %1006 = OpLoad %float %metallic_0
               OpStore %param_40 %1006
       %1008 = OpLoad %float %unclampedRoughness_0
               OpStore %param_41 %1008
       %1010 = OpLoad %float %roughness_2
               OpStore %param_42 %1010
       %1012 = OpAccessChain %_ptr_Function_float %ao_0 %uint_0
       %1013 = OpLoad %float %1012
               OpStore %param_43 %1013
       %1014 = OpFunctionCall %v3float %CalcIBL_vf3_vf3_vf3_vf3_vf3_vf3_f1_f1_f1_f1_ %param_34 %param_35 %param_36 %param_37 %param_38 %param_39 %param_40 %param_41 %param_42 %param_43
               OpStore %ambient_0 %1014
       %1015 = OpAccessChain %_ptr_Uniform_float %sceneState %int_1
       %1016 = OpLoad %float %1015
       %1017 = OpLoad %v3float %ambient_0
       %1018 = OpVectorTimesScalar %v3float %1017 %1016
               OpStore %ambient_0 %1018
               OpBranch %985
        %985 = OpLabel
               OpStore %Lo %483
       %1020 = OpAccessChain %_ptr_Uniform_uint %dirLight %int_7
       %1021 = OpLoad %uint %1020
       %1022 = OpINotEqual %bool %1021 %uint_0
       %1023 = OpLogicalEqual %bool %1022 %true
               OpSelectionMerge %1025 None
               OpBranchConditional %1023 %1024 %1025
       %1024 = OpLabel
       %1027 = OpLoad %v3float %V_3
               OpStore %param_44 %1027
       %1029 = OpLoad %v4float %normals
       %1030 = OpVectorShuffle %v3float %1029 %1029 0 1 2
               OpStore %param_45 %1030
       %1032 = OpLoad %v3float %F0_3
               OpStore %param_46 %1032
       %1034 = OpLoad %v3float %albedo_0
               OpStore %param_47 %1034
       %1036 = OpLoad %float %metallic_0
               OpStore %param_48 %1036
       %1038 = OpLoad %float %roughness_2
               OpStore %param_49 %1038
       %1040 = OpLoad %v4float %position
       %1041 = OpVectorShuffle %v3float %1040 %1040 0 1 2
               OpStore %param_50 %1041
       %1042 = OpFunctionCall %v3float %CalcDirLight_vf3_vf3_vf3_vf3_f1_f1_vf3_ %param_44 %param_45 %param_46 %param_47 %param_48 %param_49 %param_50
       %1043 = OpLoad %v3float %Lo
       %1044 = OpFAdd %v3float %1043 %1042
               OpStore %Lo %1044
               OpBranch %1025
       %1025 = OpLabel
               OpStore %i %int_0
               OpBranch %1046
       %1046 = OpLabel
               OpLoopMerge %1048 %1049 None
               OpBranch %1050
       %1050 = OpLabel
       %1051 = OpLoad %int %i
       %1052 = OpBitcast %uint %1051
       %1054 = OpAccessChain %_ptr_PushConstant_uint %_ %int_1
       %1055 = OpLoad %uint %1054
       %1056 = OpULessThan %bool %1052 %1055
               OpBranchConditional %1056 %1047 %1048
       %1047 = OpLabel
       %1062 = OpLoad %int %i
       %1065 = OpAccessChain %_ptr_StorageBuffer_PointLight_0 %__0 %int_0 %1062
       %1066 = OpLoad %PointLight_0 %1065
       %1067 = OpCompositeExtract %v4float %1066 0
       %1068 = OpAccessChain %_ptr_Function_v4float %param_51 %int_0
               OpStore %1068 %1067
       %1069 = OpCompositeExtract %v4float %1066 1
       %1070 = OpAccessChain %_ptr_Function_v4float %param_51 %int_1
               OpStore %1070 %1069
       %1071 = OpCompositeExtract %float %1066 2
       %1072 = OpAccessChain %_ptr_Function_float %param_51 %int_2
               OpStore %1072 %1071
       %1073 = OpCompositeExtract %float %1066 3
       %1074 = OpAccessChain %_ptr_Function_float %param_51 %int_3
               OpStore %1074 %1073
       %1075 = OpCompositeExtract %float %1066 4
       %1076 = OpAccessChain %_ptr_Function_float %param_51 %int_4
               OpStore %1076 %1075
       %1077 = OpCompositeExtract %uint %1066 5
       %1078 = OpINotEqual %bool %1077 %uint_0
       %1080 = OpAccessChain %_ptr_Function_bool %param_51 %int_5
               OpStore %1080 %1078
       %1082 = OpLoad %v3float %V_3
               OpStore %param_52 %1082
       %1084 = OpLoad %v4float %normals
       %1085 = OpVectorShuffle %v3float %1084 %1084 0 1 2
               OpStore %param_53 %1085
       %1087 = OpLoad %v3float %F0_3
               OpStore %param_54 %1087
       %1089 = OpLoad %v3float %albedo_0
               OpStore %param_55 %1089
       %1091 = OpLoad %float %metallic_0
               OpStore %param_56 %1091
       %1093 = OpLoad %float %roughness_2
               OpStore %param_57 %1093
       %1095 = OpLoad %v4float %position
       %1096 = OpVectorShuffle %v3float %1095 %1095 0 1 2
               OpStore %param_58 %1096
       %1097 = OpFunctionCall %v3float %CalcPointLight_struct_PointLight_vf4_vf4_f1_f1_f1_b11_vf3_vf3_vf3_vf3_f1_f1_vf3_ %param_51 %param_52 %param_53 %param_54 %param_55 %param_56 %param_57 %param_58
       %1098 = OpLoad %v3float %Lo
       %1099 = OpFAdd %v3float %1098 %1097
               OpStore %Lo %1099
               OpBranch %1049
       %1049 = OpLabel
       %1100 = OpLoad %int %i
       %1101 = OpIAdd %int %1100 %int_1
               OpStore %i %1101
               OpBranch %1046
       %1048 = OpLabel
               OpStore %i_0 %int_0
               OpBranch %1103
       %1103 = OpLabel
               OpLoopMerge %1105 %1106 None
               OpBranch %1107
       %1107 = OpLabel
       %1108 = OpLoad %int %i_0
       %1109 = OpBitcast %uint %1108
       %1110 = OpAccessChain %_ptr_PushConstant_uint %_ %int_2
       %1111 = OpLoad %uint %1110
       %1112 = OpULessThan %bool %1109 %1111
               OpBranchConditional %1112 %1104 %1105
       %1104 = OpLabel
       %1118 = OpLoad %int %i_0
       %1121 = OpAccessChain %_ptr_StorageBuffer_SpotLight_0 %__1 %int_0 %1118
       %1122 = OpLoad %SpotLight_0 %1121
       %1123 = OpCompositeExtract %v4float %1122 0
       %1124 = OpAccessChain %_ptr_Function_v4float %param_59 %int_0
               OpStore %1124 %1123
       %1125 = OpCompositeExtract %v4float %1122 1
       %1126 = OpAccessChain %_ptr_Function_v4float %param_59 %int_1
               OpStore %1126 %1125
       %1127 = OpCompositeExtract %v4float %1122 2
       %1128 = OpAccessChain %_ptr_Function_v4float %param_59 %int_2
               OpStore %1128 %1127
       %1129 = OpCompositeExtract %float %1122 3
       %1130 = OpAccessChain %_ptr_Function_float %param_59 %int_3
               OpStore %1130 %1129
       %1131 = OpCompositeExtract %float %1122 4
       %1132 = OpAccessChain %_ptr_Function_float %param_59 %int_4
               OpStore %1132 %1131
       %1133 = OpCompositeExtract %float %1122 5
       %1134 = OpAccessChain %_ptr_Function_float %param_59 %int_5
               OpStore %1134 %1133
       %1135 = OpCompositeExtract %float %1122 6
       %1136 = OpAccessChain %_ptr_Function_float %param_59 %int_6
               OpStore %1136 %1135
       %1137 = OpCompositeExtract %float %1122 7
       %1138 = OpAccessChain %_ptr_Function_float %param_59 %int_7
               OpStore %1138 %1137
       %1139 = OpCompositeExtract %uint %1122 8
       %1141 = OpINotEqual %bool %1139 %uint_0
       %1142 = OpAccessChain %_ptr_Function_bool %param_59 %int_8
               OpStore %1142 %1141
       %1144 = OpLoad %v3float %V_3
               OpStore %param_60 %1144
       %1146 = OpLoad %v4float %normals
       %1147 = OpVectorShuffle %v3float %1146 %1146 0 1 2
               OpStore %param_61 %1147
       %1149 = OpLoad %v3float %F0_3
               OpStore %param_62 %1149
       %1151 = OpLoad %v3float %albedo_0
               OpStore %param_63 %1151
       %1153 = OpLoad %float %metallic_0
               OpStore %param_64 %1153
       %1155 = OpLoad %float %roughness_2
               OpStore %param_65 %1155
       %1157 = OpLoad %v4float %position
       %1158 = OpVectorShuffle %v3float %1157 %1157 0 1 2
               OpStore %param_66 %1158
       %1159 = OpFunctionCall %v3float %CalcSpotLight_struct_SpotLight_vf4_vf4_vf4_f1_f1_f1_f1_f1_b11_vf3_vf3_vf3_vf3_f1_f1_vf3_ %param_59 %param_60 %param_61 %param_62 %param_63 %param_64 %param_65 %param_66
       %1160 = OpLoad %v3float %Lo
       %1161 = OpFAdd %v3float %1160 %1159
               OpStore %Lo %1161
               OpBranch %1106
       %1106 = OpLabel
       %1162 = OpLoad %int %i_0
       %1163 = OpIAdd %int %1162 %int_1
               OpStore %i_0 %1163
               OpBranch %1103
       %1105 = OpLabel
       %1165 = OpLoad %v3float %ambient_0
       %1166 = OpLoad %v3float %Lo
       %1167 = OpFAdd %v3float %1165 %1166
               OpStore %color_0 %1167
       %1168 = OpAccessChain %_ptr_Uniform_uint %dirLight %int_7
       %1169 = OpLoad %uint %1168
       %1170 = OpINotEqual %bool %1169 %uint_0
       %1171 = OpLogicalEqual %bool %1170 %true
               OpSelectionMerge %1173 None
               OpBranchConditional %1171 %1172 %1173
       %1172 = OpLabel
       %1174 = OpAccessChain %_ptr_Uniform_uint %dirLight %int_8
       %1175 = OpLoad %uint %1174
       %1176 = OpINotEqual %bool %1175 %uint_0
       %1177 = OpLogicalEqual %bool %1176 %true
               OpBranch %1173
       %1173 = OpLabel
       %1178 = OpPhi %bool %1171 %1105 %1177 %1172
               OpSelectionMerge %1180 None
               OpBranchConditional %1178 %1179 %1180
       %1179 = OpLabel
               OpStore %shadow_0 %float_0
       %1183 = OpAccessChain %_ptr_Uniform_uint %dirLight %int_9
       %1184 = OpLoad %uint %1183
       %1185 = OpINotEqual %bool %1184 %uint_0
       %1186 = OpLogicalEqual %bool %1185 %true
               OpSelectionMerge %1188 None
               OpBranchConditional %1186 %1187 %1196
       %1187 = OpLabel
       %1189 = OpLoad %v4float %shadowCoord_0
       %1190 = OpAccessChain %_ptr_Function_float %shadowCoord_0 %uint_3
       %1191 = OpLoad %float %1190
       %1192 = OpCompositeConstruct %v4float %1191 %1191 %1191 %1191
       %1193 = OpFDiv %v4float %1189 %1192
               OpStore %param_67 %1193
       %1195 = OpFunctionCall %float %filterPCF_vf4_ %param_67
               OpStore %shadow_0 %1195
               OpBranch %1188
       %1196 = OpLabel
       %1198 = OpLoad %216 %shadowMap
       %1199 = OpImage %215 %1198
       %1200 = OpImageQuerySizeLod %v2int %1199 %int_0
               OpStore %texDim_0 %1200
       %1201 = OpLoad %v2int %texDim_0
       %1202 = OpConvertSToF %v2float %1201
       %1204 = OpLoad %v4float %shadowCoord_0
               OpStore %param_68 %1204
               OpStore %param_69 %1202
       %1206 = OpFunctionCall %float %textureProj_vf4_vf2_ %param_68 %param_69
               OpStore %shadow_0 %1206
               OpBranch %1188
       %1188 = OpLabel
       %1207 = OpLoad %float %shadow_0
       %1208 = OpLoad %v3float %color_0
       %1209 = OpVectorTimesScalar %v3float %1208 %1207
               OpStore %color_0 %1209
               OpBranch %1180
       %1180 = OpLabel
       %1210 = OpLoad %v3float %color_0
       %1211 = OpLoad %float %emission
       %1212 = OpVectorTimesScalar %v3float %1210 %1211
               OpStore %param_70 %1212
       %1214 = OpFunctionCall %v3float %ACESTonemap_vf3_ %param_70
       %1215 = OpLoad %v4float %outColor
       %1216 = OpVectorShuffle %v4float %1215 %1214 4 5 6 3
               OpStore %outColor %1216
               OpReturn
               OpFunctionEnd
%DistributionGGX_vf3_vf3_f1_ = OpFunction %float None %10
          %N = OpFunctionParameter %_ptr_Function_v3float
          %H = OpFunctionParameter %_ptr_Function_v3float
          %a = OpFunctionParameter %_ptr_Function_float
         %15 = OpLabel
         %a2 = OpVariable %_ptr_Function_float Function
      %NdotH = OpVariable %_ptr_Function_float Function
     %NdotH2 = OpVariable %_ptr_Function_float Function
        %nom = OpVariable %_ptr_Function_float Function
      %denom = OpVariable %_ptr_Function_float Function
        %105 = OpLoad %float %a
        %106 = OpLoad %float %a
        %107 = OpFMul %float %105 %106
               OpStore %a2 %107
        %109 = OpLoad %v3float %N
        %110 = OpLoad %v3float %H
        %111 = OpDot %float %109 %110
        %113 = OpExtInst %float %1 FMax %111 %float_0
               OpStore %NdotH %113
        %115 = OpLoad %float %NdotH
        %116 = OpLoad %float %NdotH
        %117 = OpFMul %float %115 %116
               OpStore %NdotH2 %117
        %119 = OpLoad %float %a2
               OpStore %nom %119
        %121 = OpLoad %float %NdotH2
        %122 = OpLoad %float %a2
        %124 = OpFSub %float %122 %float_1
        %125 = OpFMul %float %121 %124
        %126 = OpFAdd %float %125 %float_1
               OpStore %denom %126
        %128 = OpLoad %float %denom
        %129 = OpFMul %float %float_3_14159274 %128
        %130 = OpLoad %float %denom
        %131 = OpFMul %float %129 %130
               OpStore %denom %131
        %132 = OpLoad %float %nom
        %133 = OpLoad %float %denom
        %134 = OpFDiv %float %132 %133
               OpReturnValue %134
               OpFunctionEnd
%GeometrySchlickGGX_f1_f1_ = OpFunction %float None %16
      %NdotV = OpFunctionParameter %_ptr_Function_float
  %roughness = OpFunctionParameter %_ptr_Function_float
         %20 = OpLabel
          %r = OpVariable %_ptr_Function_float Function
          %k = OpVariable %_ptr_Function_float Function
      %nom_0 = OpVariable %_ptr_Function_float Function
    %denom_0 = OpVariable %_ptr_Function_float Function
        %138 = OpLoad %float %roughness
        %139 = OpFAdd %float %138 %float_1
               OpStore %r %139
        %141 = OpLoad %float %r
        %142 = OpLoad %float %r
        %143 = OpFMul %float %141 %142
        %145 = OpFDiv %float %143 %float_8
               OpStore %k %145
        %147 = OpLoad %float %NdotV
               OpStore %nom_0 %147
        %149 = OpLoad %float %NdotV
        %150 = OpLoad %float %k
        %151 = OpFSub %float %float_1 %150
        %152 = OpFMul %float %149 %151
        %153 = OpLoad %float %k
        %154 = OpFAdd %float %152 %153
               OpStore %denom_0 %154
        %155 = OpLoad %float %nom_0
        %156 = OpLoad %float %denom_0
        %157 = OpFDiv %float %155 %156
               OpReturnValue %157
               OpFunctionEnd
%GeometrySmith_vf3_vf3_vf3_f1_ = OpFunction %float None %21
        %N_0 = OpFunctionParameter %_ptr_Function_v3float
          %V = OpFunctionParameter %_ptr_Function_v3float
          %L = OpFunctionParameter %_ptr_Function_v3float
%roughness_0 = OpFunctionParameter %_ptr_Function_float
         %27 = OpLabel
    %NdotV_0 = OpVariable %_ptr_Function_float Function
      %NdotL = OpVariable %_ptr_Function_float Function
       %ggx2 = OpVariable %_ptr_Function_float Function
      %param = OpVariable %_ptr_Function_float Function
    %param_0 = OpVariable %_ptr_Function_float Function
       %ggx1 = OpVariable %_ptr_Function_float Function
    %param_1 = OpVariable %_ptr_Function_float Function
    %param_2 = OpVariable %_ptr_Function_float Function
        %161 = OpLoad %v3float %N_0
        %162 = OpLoad %v3float %V
        %163 = OpDot %float %161 %162
        %164 = OpExtInst %float %1 FMax %163 %float_0
               OpStore %NdotV_0 %164
        %166 = OpLoad %v3float %N_0
        %167 = OpLoad %v3float %L
        %168 = OpDot %float %166 %167
        %169 = OpExtInst %float %1 FMax %168 %float_0
               OpStore %NdotL %169
        %172 = OpLoad %float %NdotV_0
               OpStore %param %172
        %174 = OpLoad %float %roughness_0
               OpStore %param_0 %174
        %175 = OpFunctionCall %float %GeometrySchlickGGX_f1_f1_ %param %param_0
               OpStore %ggx2 %175
        %178 = OpLoad %float %NdotL
               OpStore %param_1 %178
        %180 = OpLoad %float %roughness_0
               OpStore %param_2 %180
        %181 = OpFunctionCall %float %GeometrySchlickGGX_f1_f1_ %param_1 %param_2
               OpStore %ggx1 %181
        %182 = OpLoad %float %ggx1
        %183 = OpLoad %float %ggx2
        %184 = OpFMul %float %182 %183
               OpReturnValue %184
               OpFunctionEnd
%fresnelSchlick_f1_vf3_ = OpFunction %v3float None %28
   %cosTheta = OpFunctionParameter %_ptr_Function_float
         %F0 = OpFunctionParameter %_ptr_Function_v3float
         %32 = OpLabel
        %187 = OpLoad %v3float %F0
        %188 = OpLoad %v3float %F0
        %189 = OpCompositeConstruct %v3float %float_1 %float_1 %float_1
        %190 = OpFSub %v3float %189 %188
        %191 = OpLoad %float %cosTheta
        %192 = OpFSub %float %float_1 %191
        %194 = OpExtInst %float %1 Pow %192 %float_5
        %195 = OpVectorTimesScalar %v3float %190 %194
        %196 = OpFAdd %v3float %187 %195
               OpReturnValue %196
               OpFunctionEnd
%textureProj_vf4_vf2_ = OpFunction %float None %37
%shadowCoord = OpFunctionParameter %_ptr_Function_v4float
        %off = OpFunctionParameter %_ptr_Function_v2float
         %41 = OpLabel
     %shadow = OpVariable %_ptr_Function_float Function
       %dist = OpVariable %_ptr_Function_float Function
               OpStore %shadow %float_1
        %202 = OpAccessChain %_ptr_Function_float %shadowCoord %uint_2
        %203 = OpLoad %float %202
        %205 = OpFOrdGreaterThan %bool %203 %float_n1
               OpSelectionMerge %207 None
               OpBranchConditional %205 %206 %207
        %206 = OpLabel
        %208 = OpAccessChain %_ptr_Function_float %shadowCoord %uint_2
        %209 = OpLoad %float %208
        %210 = OpFOrdLessThan %bool %209 %float_1
               OpBranch %207
        %207 = OpLabel
        %211 = OpPhi %bool %205 %41 %210 %206
               OpSelectionMerge %213 None
               OpBranchConditional %211 %212 %213
        %212 = OpLabel
        %219 = OpLoad %216 %shadowMap
        %220 = OpLoad %v4float %shadowCoord
        %221 = OpVectorShuffle %v2float %220 %220 0 1
        %222 = OpLoad %v2float %off
        %223 = OpFAdd %v2float %221 %222
        %224 = OpImageSampleImplicitLod %v4float %219 %223
        %226 = OpCompositeExtract %float %224 0
               OpStore %dist %226
        %228 = OpAccessChain %_ptr_Function_float %shadowCoord %uint_3
        %229 = OpLoad %float %228
        %230 = OpFOrdGreaterThan %bool %229 %float_0
               OpSelectionMerge %232 None
               OpBranchConditional %230 %231 %232
        %231 = OpLabel
        %233 = OpLoad %float %dist
        %234 = OpAccessChain %_ptr_Function_float %shadowCoord %uint_2
        %235 = OpLoad %float %234
        %236 = OpFOrdLessThan %bool %233 %235
               OpBranch %232
        %232 = OpLabel
        %237 = OpPhi %bool %230 %212 %236 %231
               OpSelectionMerge %239 None
               OpBranchConditional %237 %238 %239
        %238 = OpLabel
               OpStore %shadow %float_0_100000001
               OpBranch %239
        %239 = OpLabel
               OpBranch %213
        %213 = OpLabel
        %241 = OpLoad %float %shadow
               OpReturnValue %241
               OpFunctionEnd
%filterPCF_vf4_ = OpFunction %float None %42
         %sc = OpFunctionParameter %_ptr_Function_v4float
         %45 = OpLabel
     %texDim = OpVariable %_ptr_Function_v2int Function
      %scale = OpVariable %_ptr_Function_float Function
         %dx = OpVariable %_ptr_Function_float Function
         %dy = OpVariable %_ptr_Function_float Function
%shadowFactor = OpVariable %_ptr_Function_float Function
      %count = OpVariable %_ptr_Function_int Function
      %range = OpVariable %_ptr_Function_int Function
          %x = OpVariable %_ptr_Function_int Function
          %y = OpVariable %_ptr_Function_int Function
    %param_3 = OpVariable %_ptr_Function_v4float Function
    %param_4 = OpVariable %_ptr_Function_v2float Function
        %248 = OpLoad %216 %shadowMap
        %250 = OpImage %215 %248
        %251 = OpImageQuerySizeLod %v2int %250 %int_0
               OpStore %texDim %251
               OpStore %scale %float_1_5
        %255 = OpLoad %float %scale
        %256 = OpFMul %float %255 %float_1
        %258 = OpAccessChain %_ptr_Function_int %texDim %uint_0
        %259 = OpLoad %int %258
        %260 = OpConvertSToF %float %259
        %261 = OpFDiv %float %256 %260
               OpStore %dx %261
        %263 = OpLoad %float %scale
        %264 = OpFMul %float %263 %float_1
        %266 = OpAccessChain %_ptr_Function_int %texDim %uint_1
        %267 = OpLoad %int %266
        %268 = OpConvertSToF %float %267
        %269 = OpFDiv %float %264 %268
               OpStore %dy %269
               OpStore %shadowFactor %float_0
               OpStore %count %int_0
               OpStore %range %int_1
        %275 = OpLoad %int %range
        %276 = OpSNegate %int %275
               OpStore %x %276
               OpBranch %277
        %277 = OpLabel
               OpLoopMerge %279 %280 None
               OpBranch %281
        %281 = OpLabel
        %282 = OpLoad %int %x
        %283 = OpLoad %int %range
        %284 = OpSLessThanEqual %bool %282 %283
               OpBranchConditional %284 %278 %279
        %278 = OpLabel
        %286 = OpLoad %int %range
        %287 = OpSNegate %int %286
               OpStore %y %287
               OpBranch %288
        %288 = OpLabel
               OpLoopMerge %290 %291 None
               OpBranch %292
        %292 = OpLabel
        %293 = OpLoad %int %y
        %294 = OpLoad %int %range
        %295 = OpSLessThanEqual %bool %293 %294
               OpBranchConditional %295 %289 %290
        %289 = OpLabel
        %296 = OpLoad %float %dx
        %297 = OpLoad %int %x
        %298 = OpConvertSToF %float %297
        %299 = OpFMul %float %296 %298
        %300 = OpLoad %float %dy
        %301 = OpLoad %int %y
        %302 = OpConvertSToF %float %301
        %303 = OpFMul %float %300 %302
        %304 = OpCompositeConstruct %v2float %299 %303
        %306 = OpLoad %v4float %sc
               OpStore %param_3 %306
               OpStore %param_4 %304
        %308 = OpFunctionCall %float %textureProj_vf4_vf2_ %param_3 %param_4
        %309 = OpLoad %float %shadowFactor
        %310 = OpFAdd %float %309 %308
               OpStore %shadowFactor %310
        %311 = OpLoad %int %count
        %312 = OpIAdd %int %311 %int_1
               OpStore %count %312
               OpBranch %291
        %291 = OpLabel
        %313 = OpLoad %int %y
        %314 = OpIAdd %int %313 %int_1
               OpStore %y %314
               OpBranch %288
        %290 = OpLabel
               OpBranch %280
        %280 = OpLabel
        %315 = OpLoad %int %x
        %316 = OpIAdd %int %315 %int_1
               OpStore %x %316
               OpBranch %277
        %279 = OpLabel
        %317 = OpLoad %float %shadowFactor
        %318 = OpLoad %int %count
        %319 = OpConvertSToF %float %318
        %320 = OpFDiv %float %317 %319
               OpReturnValue %320
               OpFunctionEnd
%FresnelSchlick_f1_vf3_ = OpFunction %v3float None %28
 %cosTheta_0 = OpFunctionParameter %_ptr_Function_float
%baseReflectivity = OpFunctionParameter %_ptr_Function_v3float
         %49 = OpLabel
        %323 = OpLoad %v3float %baseReflectivity
        %324 = OpLoad %v3float %baseReflectivity
        %325 = OpCompositeConstruct %v3float %float_1 %float_1 %float_1
        %326 = OpFSub %v3float %325 %324
        %329 = OpLoad %float %cosTheta_0
        %330 = OpFMul %float %float_n5_55472994 %329
        %332 = OpFSub %float %330 %float_6_98316002
        %333 = OpLoad %float %cosTheta_0
        %334 = OpFMul %float %332 %333
        %335 = OpExtInst %float %1 Pow %float_2 %334
        %336 = OpVectorTimesScalar %v3float %326 %335
        %337 = OpFAdd %v3float %323 %336
        %338 = OpCompositeConstruct %v3float %float_0 %float_0 %float_0
        %339 = OpExtInst %v3float %1 FMax %337 %338
               OpReturnValue %339
               OpFunctionEnd
%CalcIBL_vf3_vf3_vf3_vf3_vf3_vf3_f1_f1_f1_f1_ = OpFunction %v3float None %50
 %fragToView = OpFunctionParameter %_ptr_Function_v3float
%baseReflectivity_0 = OpFunctionParameter %_ptr_Function_v3float
%reflectionVec = OpFunctionParameter %_ptr_Function_v3float
     %normal = OpFunctionParameter %_ptr_Function_v3float
     %albedo = OpFunctionParameter %_ptr_Function_v3float
    %ambient = OpFunctionParameter %_ptr_Function_v3float
   %metallic = OpFunctionParameter %_ptr_Function_float
%unclampedRoughness = OpFunctionParameter %_ptr_Function_float
%roughness_1 = OpFunctionParameter %_ptr_Function_float
         %ao = OpFunctionParameter %_ptr_Function_float
         %62 = OpLabel
%specularRatio = OpVariable %_ptr_Function_v3float Function
    %param_5 = OpVariable %_ptr_Function_float Function
    %param_6 = OpVariable %_ptr_Function_v3float Function
%diffuseRatio = OpVariable %_ptr_Function_v3float Function
%indirectDiffuse = OpVariable %_ptr_Function_v3float Function
%specularTextureLevels = OpVariable %_ptr_Function_int Function
%prefilterColour = OpVariable %_ptr_Function_v3float Function
%brdfIntegration = OpVariable %_ptr_Function_v2float Function
%indirectSpecular = OpVariable %_ptr_Function_v3float Function
     %result = OpVariable %_ptr_Function_v3float Function
        %343 = OpLoad %v3float %normal
        %344 = OpLoad %v3float %fragToView
        %345 = OpDot %float %343 %344
        %346 = OpExtInst %float %1 FMax %345 %float_0
               OpStore %param_5 %346
        %349 = OpLoad %v3float %baseReflectivity_0
               OpStore %param_6 %349
        %350 = OpFunctionCall %v3float %FresnelSchlick_f1_vf3_ %param_5 %param_6
               OpStore %specularRatio %350
        %353 = OpLoad %v3float %specularRatio
        %354 = OpFSub %v3float %352 %353
               OpStore %diffuseRatio %354
        %355 = OpLoad %float %metallic
        %356 = OpFSub %float %float_1 %355
        %357 = OpLoad %v3float %diffuseRatio
        %358 = OpVectorTimesScalar %v3float %357 %356
               OpStore %diffuseRatio %358
        %364 = OpLoad %361 %samplerIrradiance
        %365 = OpAccessChain %_ptr_Function_float %normal %uint_0
        %366 = OpLoad %float %365
        %367 = OpAccessChain %_ptr_Function_float %normal %uint_1
        %368 = OpLoad %float %367
        %369 = OpFNegate %float %368
        %370 = OpAccessChain %_ptr_Function_float %normal %uint_2
        %371 = OpLoad %float %370
        %372 = OpCompositeConstruct %v3float %366 %369 %371
        %373 = OpImageSampleImplicitLod %v4float %364 %372
        %374 = OpVectorShuffle %v3float %373 %373 0 1 2
        %375 = OpLoad %v3float %albedo
        %376 = OpFMul %v3float %374 %375
        %377 = OpLoad %v3float %diffuseRatio
        %378 = OpFMul %v3float %376 %377
               OpStore %indirectDiffuse %378
        %381 = OpLoad %361 %prefilteredMap
        %382 = OpImage %360 %381
        %383 = OpImageQueryLevels %int %382
               OpStore %specularTextureLevels %383
        %385 = OpLoad %361 %prefilteredMap
        %386 = OpLoad %v3float %reflectionVec
        %387 = OpLoad %float %unclampedRoughness
        %388 = OpLoad %int %specularTextureLevels
        %389 = OpISub %int %388 %int_1
        %390 = OpConvertSToF %float %389
        %391 = OpFMul %float %387 %390
        %392 = OpImageSampleExplicitLod %v4float %385 %386 Lod %391
        %393 = OpVectorShuffle %v3float %392 %392 0 1 2
               OpStore %prefilterColour %393
        %396 = OpLoad %216 %samplerBRDFLUT
        %397 = OpLoad %v3float %normal
        %398 = OpLoad %v3float %fragToView
        %399 = OpDot %float %397 %398
        %400 = OpExtInst %float %1 FMax %399 %float_0
        %401 = OpLoad %float %roughness_1
        %402 = OpCompositeConstruct %v2float %400 %401
        %403 = OpImageSampleImplicitLod %v4float %396 %402
        %404 = OpVectorShuffle %v2float %403 %403 0 1
               OpStore %brdfIntegration %404
        %406 = OpLoad %v3float %prefilterColour
        %407 = OpLoad %v3float %specularRatio
        %408 = OpAccessChain %_ptr_Function_float %brdfIntegration %uint_0
        %409 = OpLoad %float %408
        %410 = OpVectorTimesScalar %v3float %407 %409
        %411 = OpAccessChain %_ptr_Function_float %brdfIntegration %uint_1
        %412 = OpLoad %float %411
        %413 = OpCompositeConstruct %v3float %412 %412 %412
        %414 = OpFAdd %v3float %410 %413
        %415 = OpFMul %v3float %406 %414
               OpStore %indirectSpecular %415
        %417 = OpLoad %v3float %indirectDiffuse
        %418 = OpLoad %v3float %indirectSpecular
        %419 = OpFAdd %v3float %417 %418
        %420 = OpLoad %float %ao
        %421 = OpVectorTimesScalar %v3float %419 %420
               OpStore %result %421
        %422 = OpLoad %v3float %result
        %427 = OpAccessChain %_ptr_Uniform_v4float %sceneState %int_0
        %428 = OpLoad %v4float %427
        %429 = OpVectorShuffle %v3float %428 %428 0 1 2
        %430 = OpFMul %v3float %422 %429
               OpReturnValue %430
               OpFunctionEnd
%CalcDirLight_vf3_vf3_vf3_vf3_f1_f1_vf3_ = OpFunction %v3float None %63
        %V_0 = OpFunctionParameter %_ptr_Function_v3float
        %N_1 = OpFunctionParameter %_ptr_Function_v3float
       %F0_0 = OpFunctionParameter %_ptr_Function_v3float
%albedo_color = OpFunctionParameter %_ptr_Function_v3float
%metallic_color = OpFunctionParameter %_ptr_Function_float
%roughness_color = OpFunctionParameter %_ptr_Function_float
   %modelPos = OpFunctionParameter %_ptr_Function_v3float
         %72 = OpLabel
        %L_0 = OpVariable %_ptr_Function_v3float Function
        %H_0 = OpVariable %_ptr_Function_v3float Function
    %NdotL_0 = OpVariable %_ptr_Function_float Function
        %NDF = OpVariable %_ptr_Function_float Function
    %param_7 = OpVariable %_ptr_Function_v3float Function
    %param_8 = OpVariable %_ptr_Function_v3float Function
    %param_9 = OpVariable %_ptr_Function_float Function
          %G = OpVariable %_ptr_Function_float Function
   %param_10 = OpVariable %_ptr_Function_v3float Function
   %param_11 = OpVariable %_ptr_Function_v3float Function
   %param_12 = OpVariable %_ptr_Function_v3float Function
   %param_13 = OpVariable %_ptr_Function_float Function
          %F = OpVariable %_ptr_Function_v3float Function
   %param_14 = OpVariable %_ptr_Function_float Function
   %param_15 = OpVariable %_ptr_Function_v3float Function
         %kd = OpVariable %_ptr_Function_v3float Function
%diffuseBRDF = OpVariable %_ptr_Function_v3float Function
%specularBRDF = OpVariable %_ptr_Function_v3float Function
        %rad = OpVariable %_ptr_Function_v3float Function
        %437 = OpAccessChain %_ptr_Uniform_v4float %dirLight %int_0
        %438 = OpLoad %v4float %437
        %439 = OpVectorShuffle %v3float %438 %438 0 1 2
        %440 = OpLoad %v3float %modelPos
        %441 = OpFSub %v3float %439 %440
        %442 = OpExtInst %v3float %1 Normalize %441
               OpStore %L_0 %442
        %444 = OpLoad %v3float %V_0
        %445 = OpLoad %v3float %L_0
        %446 = OpFAdd %v3float %444 %445
        %447 = OpExtInst %v3float %1 Normalize %446
               OpStore %H_0 %447
        %449 = OpLoad %v3float %N_1
        %450 = OpLoad %v3float %L_0
        %451 = OpDot %float %449 %450
        %452 = OpExtInst %float %1 FMax %451 %float_0
               OpStore %NdotL_0 %452
        %455 = OpLoad %v3float %N_1
               OpStore %param_7 %455
        %457 = OpLoad %v3float %H_0
               OpStore %param_8 %457
        %459 = OpLoad %float %roughness_color
               OpStore %param_9 %459
        %460 = OpFunctionCall %float %DistributionGGX_vf3_vf3_f1_ %param_7 %param_8 %param_9
               OpStore %NDF %460
        %463 = OpLoad %v3float %N_1
               OpStore %param_10 %463
        %465 = OpLoad %v3float %V_0
               OpStore %param_11 %465
        %467 = OpLoad %v3float %L_0
               OpStore %param_12 %467
        %469 = OpLoad %float %roughness_color
               OpStore %param_13 %469
        %470 = OpFunctionCall %float %GeometrySmith_vf3_vf3_vf3_f1_ %param_10 %param_11 %param_12 %param_13
               OpStore %G %470
        %472 = OpLoad %v3float %H_0
        %473 = OpLoad %v3float %V_0
        %474 = OpDot %float %472 %473
        %475 = OpExtInst %float %1 FMax %474 %float_0
               OpStore %param_14 %475
        %478 = OpLoad %v3float %F0_0
               OpStore %param_15 %478
        %479 = OpFunctionCall %v3float %fresnelSchlick_f1_vf3_ %param_14 %param_15
               OpStore %F %479
        %481 = OpLoad %v3float %F
        %482 = OpFSub %v3float %352 %481
        %484 = OpLoad %float %metallic_color
        %485 = OpCompositeConstruct %v3float %484 %484 %484
        %486 = OpExtInst %v3float %1 FMix %482 %483 %485
               OpStore %kd %486
        %488 = OpLoad %v3float %kd
        %489 = OpLoad %v3float %albedo_color
        %490 = OpFMul %v3float %488 %489
               OpStore %diffuseBRDF %490
        %492 = OpLoad %v3float %F
        %493 = OpLoad %float %NDF
        %494 = OpVectorTimesScalar %v3float %492 %493
        %495 = OpLoad %float %G
        %496 = OpVectorTimesScalar %v3float %494 %495
        %499 = OpLoad %float %NdotL_0
        %500 = OpFMul %float %float_4 %499
        %501 = OpExtInst %float %1 FMax %float_9_99999975en06 %500
        %502 = OpCompositeConstruct %v3float %501 %501 %501
        %503 = OpFDiv %v3float %496 %502
               OpStore %specularBRDF %503
        %507 = OpAccessChain %_ptr_Uniform_float %dirLight %int_2
        %508 = OpLoad %float %507
        %509 = OpAccessChain %_ptr_Uniform_v4float %dirLight %int_1
        %510 = OpLoad %v4float %509
        %511 = OpVectorShuffle %v3float %510 %510 0 1 2
        %512 = OpVectorTimesScalar %v3float %511 %float_5
        %513 = OpVectorTimesScalar %v3float %512 %508
               OpStore %rad %513
        %514 = OpLoad %v3float %albedo_color
        %515 = OpCompositeConstruct %v3float %float_3_14159274 %float_3_14159274 %float_3_14159274
        %516 = OpFDiv %v3float %514 %515
        %517 = OpLoad %v3float %diffuseBRDF
        %518 = OpFAdd %v3float %516 %517
        %519 = OpLoad %v3float %specularBRDF
        %520 = OpFAdd %v3float %518 %519
        %521 = OpLoad %float %NdotL_0
        %522 = OpVectorTimesScalar %v3float %520 %521
        %523 = OpLoad %v3float %rad
        %524 = OpFMul %v3float %522 %523
               OpReturnValue %524
               OpFunctionEnd
%CalcPointLight_struct_PointLight_vf4_vf4_f1_f1_f1_b11_vf3_vf3_vf3_vf3_f1_f1_vf3_ = OpFunction %v3float None %76
      %light = OpFunctionParameter %_ptr_Function_PointLight
        %V_1 = OpFunctionParameter %_ptr_Function_v3float
        %N_2 = OpFunctionParameter %_ptr_Function_v3float
       %F0_1 = OpFunctionParameter %_ptr_Function_v3float
%albedo_color_0 = OpFunctionParameter %_ptr_Function_v3float
%metallic_color_0 = OpFunctionParameter %_ptr_Function_float
%roughness_color_0 = OpFunctionParameter %_ptr_Function_float
 %modelPos_0 = OpFunctionParameter %_ptr_Function_v3float
         %86 = OpLabel
   %distance = OpVariable %_ptr_Function_float Function
        %L_1 = OpVariable %_ptr_Function_v3float Function
        %H_1 = OpVariable %_ptr_Function_v3float Function
    %NdotL_1 = OpVariable %_ptr_Function_float Function
%attenuation = OpVariable %_ptr_Function_float Function
   %radiance = OpVariable %_ptr_Function_v3float Function
      %NDF_0 = OpVariable %_ptr_Function_float Function
   %param_16 = OpVariable %_ptr_Function_v3float Function
   %param_17 = OpVariable %_ptr_Function_v3float Function
   %param_18 = OpVariable %_ptr_Function_float Function
        %G_0 = OpVariable %_ptr_Function_float Function
   %param_19 = OpVariable %_ptr_Function_v3float Function
   %param_20 = OpVariable %_ptr_Function_v3float Function
   %param_21 = OpVariable %_ptr_Function_v3float Function
   %param_22 = OpVariable %_ptr_Function_float Function
        %F_0 = OpVariable %_ptr_Function_v3float Function
   %param_23 = OpVariable %_ptr_Function_float Function
   %param_24 = OpVariable %_ptr_Function_v3float Function
       %kd_0 = OpVariable %_ptr_Function_v3float Function
%diffuseBRDF_0 = OpVariable %_ptr_Function_v3float Function
%specularBRDF_0 = OpVariable %_ptr_Function_v3float Function
        %528 = OpAccessChain %_ptr_Function_v4float %light %int_0
        %529 = OpLoad %v4float %528
        %530 = OpVectorShuffle %v3float %529 %529 0 1 2
        %531 = OpLoad %v3float %modelPos_0
        %532 = OpFSub %v3float %530 %531
        %533 = OpExtInst %float %1 Length %532
               OpStore %distance %533
        %534 = OpLoad %float %distance
        %536 = OpAccessChain %_ptr_Function_float %light %int_3
        %537 = OpLoad %float %536
        %538 = OpFOrdGreaterThan %bool %534 %537
               OpSelectionMerge %540 None
               OpBranchConditional %538 %539 %540
        %539 = OpLabel
               OpReturnValue %483
        %540 = OpLabel
        %543 = OpAccessChain %_ptr_Function_v4float %light %int_0
        %544 = OpLoad %v4float %543
        %545 = OpVectorShuffle %v3float %544 %544 0 1 2
        %546 = OpLoad %v3float %modelPos_0
        %547 = OpFSub %v3float %545 %546
        %548 = OpExtInst %v3float %1 Normalize %547
               OpStore %L_1 %548
        %550 = OpLoad %v3float %V_1
        %551 = OpLoad %v3float %L_1
        %552 = OpFAdd %v3float %550 %551
        %553 = OpExtInst %v3float %1 Normalize %552
               OpStore %H_1 %553
        %555 = OpLoad %v3float %N_2
        %556 = OpLoad %v3float %L_1
        %557 = OpDot %float %555 %556
        %558 = OpExtInst %float %1 FMax %557 %float_0
               OpStore %NdotL_1 %558
        %560 = OpLoad %float %distance
        %561 = OpAccessChain %_ptr_Function_float %light %int_3
        %562 = OpLoad %float %561
        %563 = OpFDiv %float %560 %562
        %564 = OpFSub %float %float_1 %563
        %565 = OpExtInst %float %1 FClamp %564 %float_0 %float_1
               OpStore %attenuation %565
        %566 = OpLoad %float %attenuation
        %567 = OpLoad %float %attenuation
        %568 = OpFMul %float %567 %566
               OpStore %attenuation %568
        %570 = OpLoad %float %attenuation
        %571 = OpVectorTimesScalar %v3float %352 %570
        %572 = OpAccessChain %_ptr_Function_float %light %int_2
        %573 = OpLoad %float %572
        %574 = OpVectorTimesScalar %v3float %571 %573
               OpStore %radiance %574
        %577 = OpLoad %v3float %N_2
               OpStore %param_16 %577
        %579 = OpLoad %v3float %H_1
               OpStore %param_17 %579
        %581 = OpLoad %float %roughness_color_0
               OpStore %param_18 %581
        %582 = OpFunctionCall %float %DistributionGGX_vf3_vf3_f1_ %param_16 %param_17 %param_18
               OpStore %NDF_0 %582
        %585 = OpLoad %v3float %N_2
               OpStore %param_19 %585
        %587 = OpLoad %v3float %V_1
               OpStore %param_20 %587
        %589 = OpLoad %v3float %L_1
               OpStore %param_21 %589
        %591 = OpLoad %float %roughness_color_0
               OpStore %param_22 %591
        %592 = OpFunctionCall %float %GeometrySmith_vf3_vf3_vf3_f1_ %param_19 %param_20 %param_21 %param_22
               OpStore %G_0 %592
        %594 = OpLoad %v3float %H_1
        %595 = OpLoad %v3float %V_1
        %596 = OpDot %float %594 %595
        %597 = OpExtInst %float %1 FMax %596 %float_0
               OpStore %param_23 %597
        %600 = OpLoad %v3float %F0_1
               OpStore %param_24 %600
        %601 = OpFunctionCall %v3float %fresnelSchlick_f1_vf3_ %param_23 %param_24
               OpStore %F_0 %601
        %603 = OpLoad %v3float %F_0
        %604 = OpFSub %v3float %352 %603
        %605 = OpLoad %float %metallic_color_0
        %606 = OpCompositeConstruct %v3float %605 %605 %605
        %607 = OpExtInst %v3float %1 FMix %604 %483 %606
               OpStore %kd_0 %607
        %609 = OpLoad %v3float %kd_0
        %610 = OpLoad %v3float %albedo_color_0
        %611 = OpFMul %v3float %609 %610
               OpStore %diffuseBRDF_0 %611
        %613 = OpLoad %v3float %F_0
        %614 = OpLoad %float %NDF_0
        %615 = OpVectorTimesScalar %v3float %613 %614
        %616 = OpLoad %float %G_0
        %617 = OpVectorTimesScalar %v3float %615 %616
        %618 = OpLoad %float %NdotL_1
        %619 = OpFMul %float %float_4 %618
        %621 = OpFMul %float %619 %float_0_800000012
        %622 = OpExtInst %float %1 FMax %float_9_99999975en06 %621
        %623 = OpCompositeConstruct %v3float %622 %622 %622
        %624 = OpFDiv %v3float %617 %623
               OpStore %specularBRDF_0 %624
        %625 = OpLoad %v3float %albedo_color_0
        %626 = OpCompositeConstruct %v3float %float_3_14159274 %float_3_14159274 %float_3_14159274
        %627 = OpFDiv %v3float %625 %626
        %628 = OpLoad %v3float %diffuseBRDF_0
        %629 = OpFAdd %v3float %627 %628
        %630 = OpLoad %v3float %specularBRDF_0
        %631 = OpFAdd %v3float %629 %630
        %632 = OpLoad %v3float %radiance
        %633 = OpFMul %v3float %631 %632
        %634 = OpLoad %float %NdotL_1
        %635 = OpVectorTimesScalar %v3float %633 %634
        %636 = OpAccessChain %_ptr_Function_v4float %light %int_1
        %637 = OpLoad %v4float %636
        %638 = OpVectorShuffle %v3float %637 %637 0 1 2
        %639 = OpFMul %v3float %635 %638
               OpReturnValue %639
               OpFunctionEnd
%CalcSpotLight_struct_SpotLight_vf4_vf4_vf4_f1_f1_f1_f1_f1_b11_vf3_vf3_vf3_vf3_f1_f1_vf3_ = OpFunction %v3float None %89
    %light_0 = OpFunctionParameter %_ptr_Function_SpotLight
        %V_2 = OpFunctionParameter %_ptr_Function_v3float
        %N_3 = OpFunctionParameter %_ptr_Function_v3float
       %F0_2 = OpFunctionParameter %_ptr_Function_v3float
%albedo_color_1 = OpFunctionParameter %_ptr_Function_v3float
%metallic_color_1 = OpFunctionParameter %_ptr_Function_float
%roughness_color_1 = OpFunctionParameter %_ptr_Function_float
 %modelPos_1 = OpFunctionParameter %_ptr_Function_v3float
         %99 = OpLabel
 %distance_0 = OpVariable %_ptr_Function_float Function
        %L_2 = OpVariable %_ptr_Function_v3float Function
      %theta = OpVariable %_ptr_Function_float Function
    %epsilon = OpVariable %_ptr_Function_float Function
 %intensitys = OpVariable %_ptr_Function_float Function
        %H_2 = OpVariable %_ptr_Function_v3float Function
    %NdotL_2 = OpVariable %_ptr_Function_float Function
%attenuation_0 = OpVariable %_ptr_Function_float Function
 %radiance_0 = OpVariable %_ptr_Function_v3float Function
      %NDF_1 = OpVariable %_ptr_Function_float Function
   %param_25 = OpVariable %_ptr_Function_v3float Function
   %param_26 = OpVariable %_ptr_Function_v3float Function
   %param_27 = OpVariable %_ptr_Function_float Function
        %G_1 = OpVariable %_ptr_Function_float Function
   %param_28 = OpVariable %_ptr_Function_v3float Function
   %param_29 = OpVariable %_ptr_Function_v3float Function
   %param_30 = OpVariable %_ptr_Function_v3float Function
   %param_31 = OpVariable %_ptr_Function_float Function
        %F_1 = OpVariable %_ptr_Function_v3float Function
   %param_32 = OpVariable %_ptr_Function_float Function
   %param_33 = OpVariable %_ptr_Function_v3float Function
       %kd_1 = OpVariable %_ptr_Function_v3float Function
%diffuseBRDF_1 = OpVariable %_ptr_Function_v3float Function
%specularBRDF_1 = OpVariable %_ptr_Function_v3float Function
        %643 = OpAccessChain %_ptr_Function_v4float %light_0 %int_0
        %644 = OpLoad %v4float %643
        %645 = OpVectorShuffle %v3float %644 %644 0 1 2
        %646 = OpLoad %v3float %modelPos_1
        %647 = OpFSub %v3float %645 %646
        %648 = OpExtInst %float %1 Length %647
               OpStore %distance_0 %648
        %649 = OpLoad %float %distance_0
        %651 = OpAccessChain %_ptr_Function_float %light_0 %int_6
        %652 = OpLoad %float %651
        %653 = OpFOrdGreaterThan %bool %649 %652
               OpSelectionMerge %655 None
               OpBranchConditional %653 %654 %655
        %654 = OpLabel
               OpReturnValue %483
        %655 = OpLabel
        %658 = OpAccessChain %_ptr_Function_v4float %light_0 %int_0
        %659 = OpLoad %v4float %658
        %660 = OpVectorShuffle %v3float %659 %659 0 1 2
        %661 = OpLoad %v3float %modelPos_1
        %662 = OpFSub %v3float %660 %661
        %663 = OpExtInst %v3float %1 Normalize %662
               OpStore %L_2 %663
        %665 = OpLoad %v3float %L_2
        %666 = OpAccessChain %_ptr_Function_v4float %light_0 %int_1
        %667 = OpLoad %v4float %666
        %668 = OpVectorShuffle %v3float %667 %667 0 1 2
        %669 = OpFNegate %v3float %668
        %670 = OpExtInst %v3float %1 Normalize %669
        %671 = OpDot %float %665 %670
               OpStore %theta %671
        %672 = OpLoad %float %theta
        %674 = OpAccessChain %_ptr_Function_float %light_0 %int_5
        %675 = OpLoad %float %674
        %676 = OpFOrdGreaterThan %bool %672 %675
               OpSelectionMerge %678 None
               OpBranchConditional %676 %677 %678
        %677 = OpLabel
               OpReturnValue %483
        %678 = OpLabel
        %682 = OpAccessChain %_ptr_Function_float %light_0 %int_4
        %683 = OpLoad %float %682
        %684 = OpAccessChain %_ptr_Function_float %light_0 %int_5
        %685 = OpLoad %float %684
        %686 = OpFSub %float %683 %685
               OpStore %epsilon %686
        %688 = OpAccessChain %_ptr_Function_float %light_0 %int_5
        %689 = OpLoad %float %688
        %690 = OpLoad %float %theta
        %691 = OpFSub %float %689 %690
        %692 = OpLoad %float %epsilon
        %693 = OpFDiv %float %691 %692
        %694 = OpExtInst %float %1 FClamp %693 %float_0 %float_1
               OpStore %intensitys %694
        %696 = OpLoad %v3float %V_2
        %697 = OpLoad %v3float %L_2
        %698 = OpFAdd %v3float %696 %697
        %699 = OpExtInst %v3float %1 Normalize %698
               OpStore %H_2 %699
        %701 = OpLoad %v3float %N_3
        %702 = OpLoad %v3float %L_2
        %703 = OpDot %float %701 %702
        %704 = OpExtInst %float %1 FMax %703 %float_0
               OpStore %NdotL_2 %704
        %706 = OpLoad %float %distance_0
        %707 = OpAccessChain %_ptr_Function_float %light_0 %int_6
        %708 = OpLoad %float %707
        %709 = OpFDiv %float %706 %708
        %710 = OpFSub %float %float_1 %709
               OpStore %attenuation_0 %710
        %711 = OpLoad %float %attenuation_0
        %712 = OpFOrdLessThan %bool %711 %float_0
               OpSelectionMerge %714 None
               OpBranchConditional %712 %713 %714
        %713 = OpLabel
               OpStore %attenuation_0 %float_0
               OpBranch %714
        %714 = OpLabel
        %715 = OpLoad %float %attenuation_0
        %716 = OpFOrdGreaterThan %bool %715 %float_1
               OpSelectionMerge %718 None
               OpBranchConditional %716 %717 %718
        %717 = OpLabel
               OpStore %attenuation_0 %float_1
               OpBranch %718
        %718 = OpLabel
        %720 = OpLoad %float %attenuation_0
        %721 = OpVectorTimesScalar %v3float %352 %720
        %722 = OpAccessChain %_ptr_Function_float %light_0 %int_3
        %723 = OpLoad %float %722
        %724 = OpVectorTimesScalar %v3float %721 %723
        %725 = OpLoad %float %intensitys
        %726 = OpVectorTimesScalar %v3float %724 %725
               OpStore %radiance_0 %726
        %729 = OpLoad %v3float %N_3
               OpStore %param_25 %729
        %731 = OpLoad %v3float %H_2
               OpStore %param_26 %731
        %733 = OpLoad %float %roughness_color_1
               OpStore %param_27 %733
        %734 = OpFunctionCall %float %DistributionGGX_vf3_vf3_f1_ %param_25 %param_26 %param_27
               OpStore %NDF_1 %734
        %737 = OpLoad %v3float %N_3
               OpStore %param_28 %737
        %739 = OpLoad %v3float %V_2
               OpStore %param_29 %739
        %741 = OpLoad %v3float %L_2
               OpStore %param_30 %741
        %743 = OpLoad %float %roughness_color_1
               OpStore %param_31 %743
        %744 = OpFunctionCall %float %GeometrySmith_vf3_vf3_vf3_f1_ %param_28 %param_29 %param_30 %param_31
               OpStore %G_1 %744
        %746 = OpLoad %v3float %H_2
        %747 = OpLoad %v3float %V_2
        %748 = OpDot %float %746 %747
        %749 = OpExtInst %float %1 FMax %748 %float_0
               OpStore %param_32 %749
        %752 = OpLoad %v3float %F0_2
               OpStore %param_33 %752
        %753 = OpFunctionCall %v3float %fresnelSchlick_f1_vf3_ %param_32 %param_33
               OpStore %F_1 %753
        %755 = OpLoad %v3float %F_1
        %756 = OpFSub %v3float %352 %755
        %757 = OpLoad %float %metallic_color_1
        %758 = OpCompositeConstruct %v3float %757 %757 %757
        %759 = OpExtInst %v3float %1 FMix %756 %483 %758
               OpStore %kd_1 %759
        %761 = OpLoad %v3float %kd_1
        %762 = OpLoad %v3float %albedo_color_1
        %763 = OpFMul %v3float %761 %762
               OpStore %diffuseBRDF_1 %763
        %765 = OpLoad %v3float %F_1
        %766 = OpLoad %float %NDF_1
        %767 = OpVectorTimesScalar %v3float %765 %766
        %768 = OpLoad %float %G_1
        %769 = OpVectorTimesScalar %v3float %767 %768
        %770 = OpLoad %float %NdotL_2
        %771 = OpFMul %float %float_4 %770
        %772 = OpFMul %float %771 %float_0_800000012
        %773 = OpExtInst %float %1 FMax %float_9_99999975en06 %772
        %774 = OpCompositeConstruct %v3float %773 %773 %773
        %775 = OpFDiv %v3float %769 %774
               OpStore %specularBRDF_1 %775
        %776 = OpLoad %v3float %albedo_color_1
        %777 = OpCompositeConstruct %v3float %float_3_14159274 %float_3_14159274 %float_3_14159274
        %778 = OpFDiv %v3float %776 %777
        %779 = OpLoad %v3float %diffuseBRDF_1
        %780 = OpFAdd %v3float %778 %779
        %781 = OpLoad %v3float %specularBRDF_1
        %782 = OpFAdd %v3float %780 %781
        %783 = OpLoad %v3float %radiance_0
        %784 = OpFMul %v3float %782 %783
        %785 = OpLoad %float %NdotL_2
        %786 = OpVectorTimesScalar %v3float %784 %785
        %787 = OpAccessChain %_ptr_Function_v4float %light_0 %int_2
        %788 = OpLoad %v4float %787
        %789 = OpVectorShuffle %v3float %788 %788 0 1 2
        %790 = OpFMul %v3float %786 %789
               OpReturnValue %790
               OpFunctionEnd
%ACESTonemap_vf3_ = OpFunction %v3float None %100
      %color = OpFunctionParameter %_ptr_Function_v3float
        %103 = OpLabel
         %m1 = OpVariable %_ptr_Function_mat3v3float Function
         %m2 = OpVariable %_ptr_Function_mat3v3float Function
          %v = OpVariable %_ptr_Function_v3float Function
        %a_0 = OpVariable %_ptr_Function_v3float Function
          %b = OpVariable %_ptr_Function_v3float Function
               OpStore %m1 %808
               OpStore %m2 %822
        %824 = OpLoad %mat3v3float %m1
        %825 = OpLoad %v3float %color
        %826 = OpMatrixTimesVector %v3float %824 %825
               OpStore %v %826
        %828 = OpLoad %v3float %v
        %829 = OpLoad %v3float %v
        %831 = OpCompositeConstruct %v3float %float_0_0245785993 %float_0_0245785993 %float_0_0245785993
        %832 = OpFAdd %v3float %829 %831
        %833 = OpFMul %v3float %828 %832
        %835 = OpCompositeConstruct %v3float %float_9_05370034en05 %float_9_05370034en05 %float_9_05370034en05
        %836 = OpFSub %v3float %833 %835
               OpStore %a_0 %836
        %838 = OpLoad %v3float %v
        %840 = OpLoad %v3float %v
        %841 = OpVectorTimesScalar %v3float %840 %float_0_983729005
        %843 = OpCompositeConstruct %v3float %float_0_432951003 %float_0_432951003 %float_0_432951003
        %844 = OpFAdd %v3float %841 %843
        %845 = OpFMul %v3float %838 %844
        %847 = OpCompositeConstruct %v3float %float_0_238080993 %float_0_238080993 %float_0_238080993
        %848 = OpFAdd %v3float %845 %847
               OpStore %b %848
        %849 = OpLoad %mat3v3float %m2
        %850 = OpLoad %v3float %a_0
        %851 = OpLoad %v3float %b
        %852 = OpFDiv %v3float %850 %851
        %853 = OpMatrixTimesVector %v3float %849 %852
        %854 = OpCompositeConstruct %v3float %float_0 %float_0 %float_0
        %855 = OpCompositeConstruct %v3float %float_1 %float_1 %float_1
        %856 = OpExtInst %v3float %1 FClamp %853 %854 %855
               OpReturnValue %856
               OpFunctionEnd
