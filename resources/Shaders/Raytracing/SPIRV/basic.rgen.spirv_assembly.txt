; SPIR-V
; Version: 1.4
; Generator: Google Shaderc over Glslang; 10
; Bound: 106
; Schema: 0
               OpCapability RayTracingProvisionalKHR
               OpExtension "SPV_KHR_ray_tracing"
          %1 = OpExtInstImport "GLSL.std.450"
               OpMemoryModel Logical GLSL450
               OpEntryPoint RayGenerationNV %main "main" %gl_LaunchIDEXT %gl_LaunchSizeEXT %cam %hitValue %topLevelAS %image
               OpSource GLSL 460
               OpSourceExtension "GL_EXT_ray_tracing"
               OpSourceExtension "GL_GOOGLE_cpp_style_line_directive"
               OpSourceExtension "GL_GOOGLE_include_directive"
               OpName %main "main"
               OpName %pixelCenter "pixelCenter"
               OpName %gl_LaunchIDEXT "gl_LaunchIDEXT"
               OpName %inUV "inUV"
               OpName %gl_LaunchSizeEXT "gl_LaunchSizeEXT"
               OpName %d "d"
               OpName %origin "origin"
               OpName %CameraProperties "CameraProperties"
               OpMemberName %CameraProperties 0 "viewInverse"
               OpMemberName %CameraProperties 1 "projInverse"
               OpName %cam "cam"
               OpName %target "target"
               OpName %direction "direction"
               OpName %tmin "tmin"
               OpName %tmax "tmax"
               OpName %hitValue "hitValue"
               OpName %topLevelAS "topLevelAS"
               OpName %image "image"
               OpDecorate %gl_LaunchIDEXT BuiltIn LaunchIdNV
               OpDecorate %gl_LaunchSizeEXT BuiltIn LaunchSizeNV
               OpMemberDecorate %CameraProperties 0 ColMajor
               OpMemberDecorate %CameraProperties 0 Offset 0
               OpMemberDecorate %CameraProperties 0 MatrixStride 16
               OpMemberDecorate %CameraProperties 1 ColMajor
               OpMemberDecorate %CameraProperties 1 Offset 64
               OpMemberDecorate %CameraProperties 1 MatrixStride 16
               OpDecorate %CameraProperties Block
               OpDecorate %cam DescriptorSet 0
               OpDecorate %cam Binding 2
               OpDecorate %hitValue Location 0
               OpDecorate %topLevelAS DescriptorSet 0
               OpDecorate %topLevelAS Binding 0
               OpDecorate %image DescriptorSet 0
               OpDecorate %image Binding 1
       %void = OpTypeVoid
          %3 = OpTypeFunction %void
      %float = OpTypeFloat 32
    %v2float = OpTypeVector %float 2
%_ptr_Function_v2float = OpTypePointer Function %v2float
       %uint = OpTypeInt 32 0
     %v3uint = OpTypeVector %uint 3
%_ptr_Input_v3uint = OpTypePointer Input %v3uint
%gl_LaunchIDEXT = OpVariable %_ptr_Input_v3uint Input
     %v2uint = OpTypeVector %uint 2
  %float_0_5 = OpConstant %float 0.5
         %19 = OpConstantComposite %v2float %float_0_5 %float_0_5
%gl_LaunchSizeEXT = OpVariable %_ptr_Input_v3uint Input
    %float_2 = OpConstant %float 2
    %float_1 = OpConstant %float 1
    %v4float = OpTypeVector %float 4
%_ptr_Function_v4float = OpTypePointer Function %v4float
%mat4v4float = OpTypeMatrix %v4float 4
%CameraProperties = OpTypeStruct %mat4v4float %mat4v4float
%_ptr_Uniform_CameraProperties = OpTypePointer Uniform %CameraProperties
        %cam = OpVariable %_ptr_Uniform_CameraProperties Uniform
        %int = OpTypeInt 32 1
      %int_0 = OpConstant %int 0
%_ptr_Uniform_mat4v4float = OpTypePointer Uniform %mat4v4float
    %float_0 = OpConstant %float 0
         %48 = OpConstantComposite %v4float %float_0 %float_0 %float_0 %float_1
      %int_1 = OpConstant %int 1
     %uint_0 = OpConstant %uint 0
%_ptr_Function_float = OpTypePointer Function %float
     %uint_1 = OpConstant %uint 1
    %v3float = OpTypeVector %float 3
%float_0_00100000005 = OpConstant %float 0.00100000005
%float_10000 = OpConstant %float 10000
%_ptr_RayPayloadNV_v3float = OpTypePointer RayPayloadNV %v3float
   %hitValue = OpVariable %_ptr_RayPayloadNV_v3float RayPayloadNV
         %81 = OpConstantComposite %v3float %float_0 %float_0 %float_0
         %82 = OpTypeAccelerationStructureKHR
%_ptr_UniformConstant_82 = OpTypePointer UniformConstant %82
 %topLevelAS = OpVariable %_ptr_UniformConstant_82 UniformConstant
   %uint_255 = OpConstant %uint 255
         %93 = OpTypeImage %float 2D 0 0 0 2 Rgba8
%_ptr_UniformConstant_93 = OpTypePointer UniformConstant %93
      %image = OpVariable %_ptr_UniformConstant_93 UniformConstant
      %v2int = OpTypeVector %int 2
       %main = OpFunction %void None %3
          %5 = OpLabel
%pixelCenter = OpVariable %_ptr_Function_v2float Function
       %inUV = OpVariable %_ptr_Function_v2float Function
          %d = OpVariable %_ptr_Function_v2float Function
     %origin = OpVariable %_ptr_Function_v4float Function
     %target = OpVariable %_ptr_Function_v4float Function
  %direction = OpVariable %_ptr_Function_v4float Function
       %tmin = OpVariable %_ptr_Function_float Function
       %tmax = OpVariable %_ptr_Function_float Function
         %15 = OpLoad %v3uint %gl_LaunchIDEXT
         %16 = OpVectorShuffle %v2uint %15 %15 0 1
         %17 = OpConvertUToF %v2float %16
         %20 = OpFAdd %v2float %17 %19
               OpStore %pixelCenter %20
         %22 = OpLoad %v2float %pixelCenter
         %24 = OpLoad %v3uint %gl_LaunchSizeEXT
         %25 = OpVectorShuffle %v2uint %24 %24 0 1
         %26 = OpConvertUToF %v2float %25
         %27 = OpFDiv %v2float %22 %26
               OpStore %inUV %27
         %29 = OpLoad %v2float %inUV
         %31 = OpVectorTimesScalar %v2float %29 %float_2
         %33 = OpCompositeConstruct %v2float %float_1 %float_1
         %34 = OpFSub %v2float %31 %33
               OpStore %d %34
         %45 = OpAccessChain %_ptr_Uniform_mat4v4float %cam %int_0
         %46 = OpLoad %mat4v4float %45
         %49 = OpMatrixTimesVector %v4float %46 %48
               OpStore %origin %49
         %52 = OpAccessChain %_ptr_Uniform_mat4v4float %cam %int_1
         %53 = OpLoad %mat4v4float %52
         %56 = OpAccessChain %_ptr_Function_float %d %uint_0
         %57 = OpLoad %float %56
         %59 = OpAccessChain %_ptr_Function_float %d %uint_1
         %60 = OpLoad %float %59
         %61 = OpCompositeConstruct %v4float %57 %60 %float_1 %float_1
         %62 = OpMatrixTimesVector %v4float %53 %61
               OpStore %target %62
         %64 = OpAccessChain %_ptr_Uniform_mat4v4float %cam %int_0
         %65 = OpLoad %mat4v4float %64
         %67 = OpLoad %v4float %target
         %68 = OpVectorShuffle %v3float %67 %67 0 1 2
         %69 = OpExtInst %v3float %1 Normalize %68
         %70 = OpCompositeExtract %float %69 0
         %71 = OpCompositeExtract %float %69 1
         %72 = OpCompositeExtract %float %69 2
         %73 = OpCompositeConstruct %v4float %70 %71 %72 %float_0
         %74 = OpMatrixTimesVector %v4float %65 %73
               OpStore %direction %74
               OpStore %tmin %float_0_00100000005
               OpStore %tmax %float_10000
               OpStore %hitValue %81
         %85 = OpLoad %82 %topLevelAS
         %87 = OpLoad %v4float %origin
         %88 = OpVectorShuffle %v3float %87 %87 0 1 2
         %89 = OpLoad %float %tmin
         %90 = OpLoad %v4float %direction
         %91 = OpVectorShuffle %v3float %90 %90 0 1 2
         %92 = OpLoad %float %tmax
               OpTraceNV %85 %uint_1 %uint_255 %uint_0 %uint_0 %uint_0 %88 %89 %91 %92 %int_0
         %96 = OpLoad %93 %image
         %97 = OpLoad %v3uint %gl_LaunchIDEXT
         %98 = OpVectorShuffle %v2uint %97 %97 0 1
        %100 = OpBitcast %v2int %98
        %101 = OpLoad %v3float %hitValue
        %102 = OpCompositeExtract %float %101 0
        %103 = OpCompositeExtract %float %101 1
        %104 = OpCompositeExtract %float %101 2
        %105 = OpCompositeConstruct %v4float %102 %103 %104 %float_0
               OpImageWrite %96 %100 %105
               OpReturn
               OpFunctionEnd
